/*!
 * FullCalendar v2.6.1
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"),require("moment"))}else{a(jQuery,moment)}}})(function(a8,O){var L=a8.fullCalendar={version:"2.6.1",internalApiVersion:3};var aU=L.views={};a8.fn.fullCalendar=function(bA){var bz=Array.prototype.slice.call(arguments,1);var bB=this;this.each(function(bE,bC){var bD=a8(bC);var bG=bD.data("fullCalendar");var bF;if(typeof bA==="string"){if(bG&&a8.isFunction(bG[bA])){bF=bG[bA].apply(bG,bz);if(!bE){bB=bF}if(bA==="destroy"){bD.removeData("fullCalendar")}}}else{if(!bG){bG=new A(bD,bA);bD.data("fullCalendar",bG);bG.render()}}});return bB};var aa=["header","buttonText","buttonIcons","themeButtonIcons"];function bk(bz){return y(bz,aa)}function bd(bA){var bB={views:bA.views||{}};var bz;a8.each(bA,function(bC,bD){if(bC!="views"){if(a8.isPlainObject(bD)&&!/(time|duration|interval)$/i.test(bC)&&a8.inArray(bC,aa)==-1){bz=null;a8.each(bD,function(bF,bE){if(/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(bF)){if(!bB.views[bF]){bB.views[bF]={}}bB.views[bF][bC]=bE}else{if(!bz){bz={}}bz[bF]=bE}});if(bz){bB[bC]=bz}}else{bB[bC]=bD}}});return bB}L.intersectRanges=q;L.applyAll=ae;L.debounce=by;L.isInt=ai;L.htmlEscape=bt;L.cssToStr=aM;L.proxy=J;L.capitaliseFirstLetter=bf;function bm(bA,bz){if(bz.left){bA.css({"border-left-width":1,"margin-left":bz.left-1})}if(bz.right){bA.css({"border-right-width":1,"margin-right":bz.right-1})}}function aD(bz){bz.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function aN(){a8("body").addClass("fc-not-allowed")}function P(){a8("body").removeClass("fc-not-allowed")}function U(bE,bD,bA){var bB=Math.floor(bD/bE.length);var bz=Math.floor(bD-bB*(bE.length-1));var bF=[];var bG=[];var bC=[];var bH=0;e(bE);bE.each(function(bJ,bK){var bL=bJ===bE.length-1?bz:bB;var bI=a8(bK).outerHeight(true);if(bI<bL){bF.push(bK);bG.push(bI);bC.push(a8(bK).height())}else{bH+=bI}});if(bA){bD-=bH;bB=Math.floor(bD/bF.length);bz=Math.floor(bD-bB*(bF.length-1))}a8(bF).each(function(bK,bL){var bN=bK===bF.length-1?bz:bB;var bJ=bG[bK];var bM=bC[bK];var bI=bN-(bJ-bM);if(bJ<bN){a8(bL).height(bI)}})}function e(bz){bz.height("")}function V(bz){var bA=0;bz.find("> span").each(function(bC,bD){var bB=a8(bD).outerWidth();if(bB>bA){bA=bB}});bA++;bz.width(bA);return bA}function bn(bA,bz){bA.height(bz).addClass("fc-scroller");if(bA[0].scrollHeight-1>bA[0].clientHeight){return true}D(bA);return false}function D(bz){bz.height("").removeClass("fc-scroller")}L.getOuterRect=ab;L.getClientRect=v;L.getContentRect=aW;L.getScrollbarWidths=r;function aK(bA){var bz=bA.css("position"),bB=bA.parents().filter(function(){var bC=a8(this);return(/(auto|scroll)/).test(bC.css("overflow")+bC.css("overflow-y")+bC.css("overflow-x"))}).eq(0);return bz==="fixed"||!bB.length?a8(bA[0].ownerDocument||document):bB}function ab(bz){var bA=bz.offset();return{left:bA.left,right:bA.left+bz.outerWidth(),top:bA.top,bottom:bA.top+bz.outerHeight()}}function v(bA){var bD=bA.offset();var bz=r(bA);var bC=bD.left+bl(bA,"border-left-width")+bz.left;var bB=bD.top+bl(bA,"border-top-width")+bz.top;return{left:bC,right:bC+bA[0].clientWidth,top:bB,bottom:bB+bA[0].clientHeight}}function aW(bz){var bC=bz.offset();var bB=bC.left+bl(bz,"border-left-width")+bl(bz,"padding-left");var bA=bC.top+bl(bz,"border-top-width")+bl(bz,"padding-top");return{left:bB,right:bB+bz.width(),top:bA,bottom:bA+bz.height()}}function r(bz){var bB=bz.innerWidth()-bz[0].clientWidth;var bA={left:0,right:0,top:0,bottom:bz.innerHeight()-bz[0].clientHeight};if(a5()&&bz.css("direction")=="rtl"){bA.left=bB}else{bA.right=bB}return bA}var W=null;function a5(){if(W===null){W=c()}return W}function c(){var bA=a8("<div><div/></div>").css({position:"absolute",top:-1000,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body");var bB=bA.children();var bz=bB.offset().left>bA.offset().left;bA.remove();return bz}function bl(bz,bA){return parseFloat(bz.css(bA))||0}function an(bz){return bz.which==1&&!bz.ctrlKey}L.intersectRects=bw;function bw(bA,bz){var bB={left:Math.max(bA.left,bz.left),right:Math.min(bA.right,bz.right),top:Math.max(bA.top,bz.top),bottom:Math.min(bA.bottom,bz.bottom)};if(bB.left<bB.right&&bB.top<bB.bottom){return bB}return false}function aS(bz,bA){return{left:Math.min(Math.max(bz.left,bA.left),bA.right),top:Math.min(Math.max(bz.top,bA.top),bA.bottom)}}function ah(bz){return{left:(bz.left+bz.right)/2,top:(bz.top+bz.bottom)/2}}function br(bA,bz){return{left:bA.left-bz.left,top:bA.top-bz.top}}L.parseFieldSpecs=a0;L.compareByFieldSpecs=aF;L.compareByFieldSpec=az;L.flexibleCompare=n;function a0(bz){var bD=[];var bC=[];var bB,bA;if(typeof bz==="string"){bC=bz.split(/\s*,\s*/)}else{if(typeof bz==="function"){bC=[bz]}else{if(a8.isArray(bz)){bC=bz}}}for(bB=0;bB<bC.length;bB++){bA=bC[bB];if(typeof bA==="string"){bD.push(bA.charAt(0)=="-"?{field:bA.substring(1),order:-1}:{field:bA,order:1})}else{if(typeof bA==="function"){bD.push({func:bA})}}}return bD}function aF(bC,bB,bD){var bz;var bA;for(bz=0;bz<bD.length;bz++){bA=az(bC,bB,bD[bz]);if(bA){return bA}}return 0}function az(bB,bz,bA){if(bA.func){return bA.func(bB,bz)}return n(bB[bA.field],bz[bA.field])*(bA.order||1)}function n(bA,bz){if(!bA&&!bz){return 0}if(bz==null){return -1}if(bA==null){return 1}if(a8.type(bA)==="string"||a8.type(bz)==="string"){return String(bA).localeCompare(String(bz))}return bA-bz}function q(bH,bA){var bD=bH.start;var bB=bH.end;var bG=bA.start;var bE=bA.end;var bF,bI;var bz,bC;if(bB>bG&&bD<bE){if(bD>=bG){bF=bD.clone();bz=true}else{bF=bG.clone();bz=false}if(bB<=bE){bI=bB.clone();bC=true}else{bI=bE.clone();bC=false}return{start:bF,end:bI,isStart:bz,isEnd:bC}}}L.computeIntervalUnit=ac;L.divideRangeByDuration=at;L.divideDurationByDuration=p;L.multiplyDuration=x;L.durationHasTime=aQ;var ar=["sun","mon","tue","wed","thu","fri","sat"];var m=["year","month","week","day","hour","minute","second","millisecond"];function F(bA,bz){return O.duration({days:bA.clone().stripTime().diff(bz.clone().stripTime(),"days"),ms:bA.time()-bz.time()})}function am(bA,bz){return O.duration({days:bA.clone().stripTime().diff(bz.clone().stripTime(),"days")})}function o(bA,bz,bB){return O.duration(Math.round(bA.diff(bz,bB,true)),bB)}function ac(bD,bz){var bA,bB;var bC;for(bA=0;bA<m.length;bA++){bB=m[bA];bC=u(bB,bD,bz);if(bC>=1&&ai(bC)){break}}return bB}function u(bA,bB,bz){if(bz!=null){return bz.diff(bB,bA,true)}else{if(O.isDuration(bB)){return bB.as(bA)}else{return bB.end.diff(bB.start,bA,true)}}}function at(bC,bA,bB){var bz;if(aQ(bB)){return(bA-bC)/bB}bz=bB.asMonths();if(Math.abs(bz)>=1&&ai(bz)){return bA.diff(bC,"months",true)/bz}return bA.diff(bC,"days",true)/bB.asDays()}function p(bB,bA){var bz,bC;if(aQ(bB)||aQ(bA)){return bB/bA}bz=bB.asMonths();bC=bA.asMonths();if(Math.abs(bz)>=1&&ai(bz)&&Math.abs(bC)>=1&&ai(bC)){return bz/bC}return bB.asDays()/bA.asDays()}function x(bA,bB){var bz;if(aQ(bA)){return O.duration(bA*bB)}bz=bA.asMonths();if(Math.abs(bz)>=1&&ai(bz)){return O.duration({months:bz*bB})}return O.duration({days:bA.asDays()*bB})}function aQ(bz){return Boolean(bz.hours()||bz.minutes()||bz.seconds()||bz.milliseconds())}function X(bz){return Object.prototype.toString.call(bz)==="[object Date]"||bz instanceof Date}function Y(bz){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(bz)}L.log=function(){var bz=window.console;if(bz&&bz.log){return bz.log.apply(bz,arguments)}};L.warn=function(){var bz=window.console;if(bz&&bz.warn){return bz.warn.apply(bz,arguments)}else{return L.log.apply(L,arguments)}};var H={}.hasOwnProperty;function y(bH,bD){var bG={};var bC,bz;var bF;var bB,bA;var bE;if(bD){for(bC=0;bC<bD.length;bC++){bz=bD[bC];bF=[];for(bB=bH.length-1;bB>=0;bB--){bA=bH[bB][bz];if(typeof bA==="object"){bF.unshift(bA)}else{if(bA!==undefined){bG[bz]=bA;break}}}if(bF.length){bG[bz]=y(bF)}}}for(bC=bH.length-1;bC>=0;bC--){bE=bH[bC];for(bz in bE){if(!(bz in bG)){bG[bz]=bE[bz]}}}return bG}function ak(bz){var bA=function(){};bA.prototype=bz;return new bA()}function bi(bB,bA){for(var bz in bB){if(a4(bB,bz)){bA[bz]=bB[bz]}}}function aI(bD,bA){var bC=["constructor","toString","valueOf"];var bB,bz;for(bB=0;bB<bC.length;bB++){bz=bC[bB];if(bD[bz]!==Object.prototype[bz]){bA[bz]=bD[bz]}}}function a4(bA,bz){return H.call(bA,bz)}function aY(bz){return/undefined|null|boolean|number|string/.test(a8.type(bz))}function ae(bC,bD,bA){if(a8.isFunction(bC)){bC=[bC]}if(bC){var bB;var bz;for(bB=0;bB<bC.length;bB++){bz=bC[bB].apply(bD,bA)||bz}return bz}}function bv(){for(var bz=0;bz<arguments.length;bz++){if(arguments[bz]!==undefined){return arguments[bz]}}}function bt(bz){return(bz+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aw(bz){return bz.replace(/&.*?;/g,"")}function aM(bA){var bz=[];a8.each(bA,function(bB,bC){if(bC!=null){bz.push(bB+":"+bC)}});return bz.join(";")}function bf(bz){return bz.charAt(0).toUpperCase()+bz.slice(1)}function aB(bA,bz){return bA-bz}function ai(bz){return bz%1===0}function J(bA,bz){var bB=bA[bz];return function(){return bB.apply(bA,arguments)}}function by(bC,bE){var bF;var bA;var bB;var bD;var bz=function(){var bG=+new Date()-bD;if(bG<bE&&bG>0){bF=setTimeout(bz,bE-bG)}else{bF=null;bC.apply(bB,bA);if(!bF){bB=bA=null}}};return function(){bB=this;bA=arguments;bD=+new Date();if(!bF){bF=setTimeout(bz,bE)}}}var K=/^\s*\d{4}-\d\d$/;var al=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;var ao=O.fn;var a3=a8.extend({},ao);var a9;var i;var ay;L.moment=function(){return M(arguments)};L.moment.utc=function(){var bz=M(arguments,true);if(bz.hasTime()){bz.utc()}return bz};L.moment.parseZone=function(){return M(arguments,true,true)};function M(bF,bE,bD){var bH=bF[0];var bC=bF.length==1&&typeof bH==="string";var bB;var bG;var bz;var bA;if(O.isMoment(bH)){bA=O.apply(null,bF);B(bH,bA)}else{if(X(bH)||bH===undefined){bA=O.apply(null,bF)}else{bB=false;bG=false;if(bC){if(K.test(bH)){bH+="-01";bF=[bH];bB=true;bG=true}else{if((bz=al.exec(bH))){bB=!bz[5];bG=true}}}else{if(a8.isArray(bH)){bG=true}}if(bE||bB){bA=O.utc.apply(O,bF)}else{bA=O.apply(null,bF)}if(bB){bA._ambigTime=true;bA._ambigZone=true}else{if(bD){if(bG){bA._ambigZone=true}else{if(bC){if(bA.utcOffset){bA.utcOffset(bH)}else{bA.zone(bH)}}}}}}}bA._fullCalendar=true;return bA}ao.clone=function(){var bz=a3.clone.apply(this,arguments);B(this,bz);if(this._fullCalendar){bz._fullCalendar=true}return bz};ao.week=ao.weeks=function(bA){var bz=(this._locale||this._lang)._fullCalendar_weekCalc;if(bA==null&&typeof bz==="function"){return bz(this)}else{if(bz==="ISO"){return a3.isoWeek.apply(this,arguments)}}return a3.week.apply(this,arguments)};ao.time=function(bA){if(!this._fullCalendar){return a3.time.apply(this,arguments)}if(bA==null){return O.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{this._ambigTime=false;if(!O.isDuration(bA)&&!O.isMoment(bA)){bA=O.duration(bA)}var bz=0;if(O.isDuration(bA)){bz=Math.floor(bA.asDays())*24}return this.hours(bz+bA.hours()).minutes(bA.minutes()).seconds(bA.seconds()).milliseconds(bA.milliseconds())}};ao.stripTime=function(){var bz;if(!this._ambigTime){bz=this.toArray();this.utc();i(this,bz.slice(0,3));this._ambigTime=true;this._ambigZone=true}return this};ao.hasTime=function(){return !this._ambigTime};ao.stripZone=function(){var bz,bA;if(!this._ambigZone){bz=this.toArray();bA=this._ambigTime;this.utc();i(this,bz);this._ambigTime=bA||false;this._ambigZone=true}return this};ao.hasZone=function(){return !this._ambigZone};ao.local=function(){var bz=this.toArray();var bA=this._ambigZone;a3.local.apply(this,arguments);this._ambigTime=false;this._ambigZone=false;if(bA){ay(this,bz)}return this};ao.utc=function(){a3.utc.apply(this,arguments);this._ambigTime=false;this._ambigZone=false;return this};a8.each(["zone","utcOffset"],function(bA,bz){if(a3[bz]){ao[bz]=function(bB){if(bB!=null){this._ambigTime=false;this._ambigZone=false}return a3[bz].apply(this,arguments)}}});ao.format=function(){if(this._fullCalendar&&arguments[0]){return S(this,arguments[0])}if(this._ambigTime){return g(this,"YYYY-MM-DD")}if(this._ambigZone){return g(this,"YYYY-MM-DD[T]HH:mm:ss")}return a3.format.apply(this,arguments)};ao.toISOString=function(){if(this._ambigTime){return g(this,"YYYY-MM-DD")}if(this._ambigZone){return g(this,"YYYY-MM-DD[T]HH:mm:ss")}return a3.toISOString.apply(this,arguments)};ao.isWithin=function(bB,bA){var bz=a2([this,bB,bA]);return bz[0]>=bz[1]&&bz[0]<bz[2]};ao.isSame=function(bB,bA){var bz;if(!this._fullCalendar){return a3.isSame.apply(this,arguments)}if(bA){bz=a2([this,bB],true);return a3.isSame.call(bz[0],bz[1],bA)}else{bB=L.moment.parseZone(bB);return a3.isSame.call(this,bB)&&Boolean(this._ambigTime)===Boolean(bB._ambigTime)&&Boolean(this._ambigZone)===Boolean(bB._ambigZone)}};a8.each(["isBefore","isAfter"],function(bA,bz){ao[bz]=function(bD,bC){var bB;if(!this._fullCalendar){return a3[bz].apply(this,arguments)}bB=a2([this,bD]);return a3[bz].call(bB[0],bB[1],bC)}});function a2(bA,bG){var bC=false;var bF=false;var bz=bA.length;var bB=[];var bD,bE;for(bD=0;bD<bz;bD++){bE=bA[bD];if(!O.isMoment(bE)){bE=L.moment.parseZone(bE)}bC=bC||bE._ambigTime;bF=bF||bE._ambigZone;bB.push(bE)}for(bD=0;bD<bz;bD++){bE=bB[bD];if(!bG&&bC&&!bE._ambigTime){bB[bD]=bE.clone().stripTime()}else{if(bF&&!bE._ambigZone){bB[bD]=bE.clone().stripZone()}}}return bB}function B(bA,bz){if(bA._ambigTime){bz._ambigTime=true}else{if(bz._ambigTime){bz._ambigTime=false}}if(bA._ambigZone){bz._ambigZone=true}else{if(bz._ambigZone){bz._ambigZone=false}}}function bu(bA,bz){bA.year(bz[0]||0).month(bz[1]||0).date(bz[2]||0).hours(bz[3]||0).minutes(bz[4]||0).seconds(bz[5]||0).milliseconds(bz[6]||0)}a9="_d" in O()&&"updateOffset" in O;i=a9?function(bA,bz){bA._d.setTime(Date.UTC.apply(Date,bz));O.updateOffset(bA,false)}:bu;ay=a9?function(bA,bz){bA._d.setTime(+new Date(bz[0]||0,bz[1]||0,bz[2]||0,bz[3]||0,bz[4]||0,bz[5]||0,bz[6]||0));O.updateOffset(bA,false)}:bu;function g(bA,bz){return a3.format.call(bA,bz)}function S(bA,bz){return bo(bA,E(bz))}function bo(bz,bC){var bB="";var bA;for(bA=0;bA<bC.length;bA++){bB+=aq(bz,bC[bA])}return bB}var f={t:function(bz){return g(bz,"a").charAt(0)},T:function(bz){return g(bz,"A").charAt(0)}};function aq(bA,bz){var bB;var bC;if(typeof bz==="string"){return bz}else{if((bB=bz.token)){if(f[bB]){return f[bB](bA)}return g(bA,bB)}else{if(bz.maybe){bC=bo(bA,bz.maybe);if(bC.match(/[1-9]/)){return bC}}}}return""}function ag(bE,bC,bz,bD,bA){var bB;bE=L.moment.parseZone(bE);bC=L.moment.parseZone(bC);bB=(bE.localeData||bE.lang).call(bE);bz=bB.longDateFormat(bz)||bz;bD=bD||" - ";return aT(bE,bC,E(bz),bD,bA)}L.formatRange=ag;function aT(bO,bN,bG,bF,bA){var bE=bO.clone().stripZone();var bB=bN.clone().stripZone();var bK;var bM;var bD="";var bz;var bI="";var bL;var bJ="";var bH="";var bC="";for(bM=0;bM<bG.length;bM++){bK=a7(bO,bN,bE,bB,bG[bM]);if(bK===false){break}bD+=bK}for(bz=bG.length-1;bz>bM;bz--){bK=a7(bO,bN,bE,bB,bG[bz]);if(bK===false){break}bI=bK+bI}for(bL=bM;bL<=bz;bL++){bJ+=aq(bO,bG[bL]);bH+=aq(bN,bG[bL])}if(bJ||bH){if(bA){bC=bH+bF+bJ}else{bC=bJ+bF+bH}}return bD+bC+bI}var bj={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};function a7(bF,bD,bE,bC,bz){var bA;var bB;if(typeof bz==="string"){return bz}else{if((bA=bz.token)){bB=bj[bA.charAt(0)];if(bB&&bE.isSame(bC,bB)){return g(bF,bA)}}}return false}var bp={};function E(bz){if(bz in bp){return bp[bz]}return(bp[bz]=aJ(bz))}function aJ(bA){var bC=[];var bz=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;var bB;while((bB=bz.exec(bA))){if(bB[1]){bC.push(bB[1])}else{if(bB[2]){bC.push({maybe:aJ(bB[2])})}else{if(bB[3]){bC.push({token:bB[3]})}else{if(bB[5]){bC.push(bB[5])}}}}}return bC}L.Class=bg;function bg(){}bg.extend=function(){var bz=arguments.length;var bB;var bA;for(bB=0;bB<bz;bB++){bA=arguments[bB];if(bB<bz-1){l(this,bA)}}return aZ(this,bA||{})};bg.mixin=function(bz){l(this,bz)};function aZ(bA,bz){var bB;if(a4(bz,"constructor")){bB=bz.constructor}if(typeof bB!=="function"){bB=bz.constructor=function(){bA.apply(this,arguments)}}bB.prototype=ak(bA.prototype);bi(bz,bB.prototype);aI(bz,bB.prototype);bi(bA,bB);return bB}function l(bA,bz){bi(bz.prototype||bz,bA.prototype)}var C=L.Emitter=bg.extend({callbackHash:null,on:function(bz,bA){this.getCallbacks(bz).add(bA);return this},off:function(bz,bA){this.getCallbacks(bz).remove(bA);return this},trigger:function(bA){var bz=Array.prototype.slice.call(arguments,1);this.triggerWith(bA,this,bz);return this},triggerWith:function(bA,bB,bz){var bC=this.getCallbacks(bA);bC.fireWith(bB,bz);return this},getCallbacks:function(bz){var bA;if(!this.callbackHash){this.callbackHash={}}bA=this.callbackHash[bz];if(!bA){bA=this.callbackHash[bz]=a8.Callbacks()}return bA}});var t=bg.extend({isHidden:true,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(bz){this.options=bz||{}},show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var bA=this;var bz=this.options;this.el=a8('<div class="fc-popover"/>').addClass(bz.className||"").css({top:0,left:0}).append(bz.content).appendTo(bz.parentEl);this.el.on("click",".fc-close",function(){bA.hide()});if(bz.autoHide){a8(document).on("mousedown",this.documentMousedownProxy=J(this,"documentMousedown"))}},documentMousedown:function(bz){if(this.el&&!a8(bz.target).closest(this.el).length){this.hide()}},removeElement:function(){this.hide();if(this.el){this.el.remove();this.el=null}a8(document).off("mousedown",this.documentMousedownProxy)},position:function(){var bJ=this.options;var bF=this.el.offsetParent().offset();var bz=this.el.outerWidth();var bH=this.el.outerHeight();var bG=a8(window);var bE=aK(this.el);var bA;var bC;var bI;var bD;var bB;bD=bJ.top||0;if(bJ.left!==undefined){bB=bJ.left}else{if(bJ.right!==undefined){bB=bJ.right-bz}else{bB=0}}if(bE.is(window)||bE.is(document)){bE=bG;bA=0;bC=0}else{bI=bE.offset();bA=bI.top;bC=bI.left}bA+=bG.scrollTop();bC+=bG.scrollLeft();if(bJ.viewportConstrain!==false){bD=Math.min(bD,bA+bE.outerHeight()-bH-this.margin);bD=Math.max(bD,bA+this.margin);bB=Math.min(bB,bC+bE.outerWidth()-bz-this.margin);bB=Math.max(bB,bC+this.margin)}this.el.css({top:bD-bF.top,left:bB-bF.left})},trigger:function(bz){if(this.options[bz]){this.options[bz].apply(this,Array.prototype.slice.call(arguments,1))}}});var bc=L.CoordCache=bg.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:false,isVertical:false,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(bz){this.els=a8(bz.els);this.isHorizontal=bz.isHorizontal;this.isVertical=bz.isVertical;this.forcedOffsetParentEl=bz.offsetParent?a8(bz.offsetParent):null},build:function(){var bz=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=bz.offset();this.boundingRect=this.queryBoundingRect();if(this.isHorizontal){this.buildElHorizontals()}if(this.isVertical){this.buildElVerticals()}},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){if(!this.origin){this.build()}},queryBoundingRect:function(){var bz=aK(this.els.eq(0));if(!bz.is(document)){return v(bz)}},buildElHorizontals:function(){var bA=[];var bz=[];this.els.each(function(bB,bE){var bD=a8(bE);var bF=bD.offset().left;var bC=bD.outerWidth();bA.push(bF);bz.push(bF+bC)});this.lefts=bA;this.rights=bz},buildElVerticals:function(){var bz=[];var bA=[];this.els.each(function(bC,bE){var bD=a8(bE);var bF=bD.offset().top;var bB=bD.outerHeight();bz.push(bF);bA.push(bF+bB)});this.tops=bz;this.bottoms=bA},getHorizontalIndex:function(bC){this.ensureBuilt();var bA=this.boundingRect;var bE=this.lefts;var bD=this.rights;var bz=bE.length;var bB;if(!bA||(bC>=bA.left&&bC<bA.right)){for(bB=0;bB<bz;bB++){if(bC>=bE[bB]&&bC<bD[bB]){return bB}}}},getVerticalIndex:function(bC){this.ensureBuilt();var bA=this.boundingRect;var bD=this.tops;var bE=this.bottoms;var bz=bD.length;var bB;if(!bA||(bC>=bA.top&&bC<bA.bottom)){for(bB=0;bB<bz;bB++){if(bC>=bD[bB]&&bC<bE[bB]){return bB}}}},getLeftOffset:function(bz){this.ensureBuilt();return this.lefts[bz]},getLeftPosition:function(bz){this.ensureBuilt();return this.lefts[bz]-this.origin.left},getRightOffset:function(bz){this.ensureBuilt();return this.rights[bz]},getRightPosition:function(bz){this.ensureBuilt();return this.rights[bz]-this.origin.left},getWidth:function(bz){this.ensureBuilt();return this.rights[bz]-this.lefts[bz]},getTopOffset:function(bz){this.ensureBuilt();return this.tops[bz]},getTopPosition:function(bz){this.ensureBuilt();return this.tops[bz]-this.origin.top},getBottomOffset:function(bz){this.ensureBuilt();return this.bottoms[bz]},getBottomPosition:function(bz){this.ensureBuilt();return this.bottoms[bz]-this.origin.top},getHeight:function(bz){this.ensureBuilt();return this.bottoms[bz]-this.tops[bz]}});var be=L.DragListener=bg.extend({options:null,isListening:false,isDragging:false,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(bz){bz=bz||{};this.options=bz;this.subjectEl=bz.subjectEl},mousedown:function(bz){if(an(bz)){bz.preventDefault();this.startListening(bz);if(!this.options.distance){this.startDrag(bz)}}},startListening:function(bz){var bA;if(!this.isListening){if(bz&&this.options.scroll){bA=aK(a8(bz.target));if(!bA.is(window)&&!bA.is(document)){this.scrollEl=bA;this.scrollHandlerProxy=by(J(this,"scrollHandler"),100);this.scrollEl.on("scroll",this.scrollHandlerProxy)}}a8(document).on("mousemove",this.mousemoveProxy=J(this,"mousemove")).on("mouseup",this.mouseupProxy=J(this,"mouseup")).on("selectstart",this.preventDefault);if(bz){this.originX=bz.pageX;this.originY=bz.pageY}else{this.originX=0;this.originY=0}this.isListening=true;this.listenStart(bz)}},listenStart:function(bz){this.trigger("listenStart",bz)},mousemove:function(bC){var bB=bC.pageX-this.originX;var bz=bC.pageY-this.originY;var bD;var bA;if(!this.isDragging){bD=this.options.distance||1;bA=bB*bB+bz*bz;if(bA>=bD*bD){this.startDrag(bC)}}if(this.isDragging){this.drag(bB,bz,bC)}},startDrag:function(bz){if(!this.isListening){this.startListening()}if(!this.isDragging){this.isDragging=true;this.dragStart(bz)}},dragStart:function(bA){var bz=this.subjectEl;this.trigger("dragStart",bA);if((this.subjectHref=bz?bz.attr("href"):null)){bz.removeAttr("href")}},drag:function(bA,bz,bB){this.trigger("drag",bA,bz,bB);this.updateScroll(bB)},mouseup:function(bz){this.stopListening(bz)},stopDrag:function(bz){if(this.isDragging){this.stopScrolling();this.dragStop(bz);this.isDragging=false}},dragStop:function(bz){var bA=this;this.trigger("dragStop",bz);setTimeout(function(){if(bA.subjectHref){bA.subjectEl.attr("href",bA.subjectHref)}},0)},stopListening:function(bz){this.stopDrag(bz);if(this.isListening){if(this.scrollEl){this.scrollEl.off("scroll",this.scrollHandlerProxy);this.scrollHandlerProxy=null}a8(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault);this.mousemoveProxy=null;this.mouseupProxy=null;this.isListening=false;this.listenStop(bz)}},listenStop:function(bz){this.trigger("listenStop",bz)},trigger:function(bz){if(this.options[bz]){this.options[bz].apply(this,Array.prototype.slice.call(arguments,1))}},preventDefault:function(bz){bz.preventDefault()},computeScrollBounds:function(){var bz=this.scrollEl;this.scrollBounds=bz?ab(bz):null},updateScroll:function(bF){var bB=this.scrollSensitivity;var bz=this.scrollBounds;var bA,bC;var bG,bH;var bE=0;var bD=0;if(bz){bA=(bB-(bF.pageY-bz.top))/bB;bC=(bB-(bz.bottom-bF.pageY))/bB;bG=(bB-(bF.pageX-bz.left))/bB;bH=(bB-(bz.right-bF.pageX))/bB;if(bA>=0&&bA<=1){bE=bA*this.scrollSpeed*-1}else{if(bC>=0&&bC<=1){bE=bC*this.scrollSpeed}}if(bG>=0&&bG<=1){bD=bG*this.scrollSpeed*-1}else{if(bH>=0&&bH<=1){bD=bH*this.scrollSpeed}}}this.setScrollVel(bE,bD)},setScrollVel:function(bA,bz){this.scrollTopVel=bA;this.scrollLeftVel=bz;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(J(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var bz=this.scrollEl;if(this.scrollTopVel<0){if(bz.scrollTop()<=0){this.scrollTopVel=0}}else{if(this.scrollTopVel>0){if(bz.scrollTop()+bz[0].clientHeight>=bz[0].scrollHeight){this.scrollTopVel=0}}}if(this.scrollLeftVel<0){if(bz.scrollLeft()<=0){this.scrollLeftVel=0}}else{if(this.scrollLeftVel>0){if(bz.scrollLeft()+bz[0].clientWidth>=bz[0].scrollWidth){this.scrollLeftVel=0}}}},scrollIntervalFunc:function(){var bA=this.scrollEl;var bz=this.scrollIntervalMs/1000;if(this.scrollTopVel){bA.scrollTop(bA.scrollTop()+this.scrollTopVel*bz)}if(this.scrollLeftVel){bA.scrollLeft(bA.scrollLeft()+this.scrollLeftVel*bz)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.stopScrolling()}},stopScrolling:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.scrollStop()}},scrollHandler:function(){if(!this.scrollIntervalId){this.scrollStop()}},scrollStop:function(){}});var d=be.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(bA,bz){be.call(this,bz);this.component=bA},listenStart:function(bD){var bA=this.subjectEl;var bB;var bC;var bz;be.prototype.listenStart.apply(this,arguments);this.computeCoords();if(bD){bC={left:bD.pageX,top:bD.pageY};bz=bC;if(bA){bB=ab(bA);bz=aS(bz,bB)}this.origHit=this.queryHit(bz.left,bz.top);if(bA&&this.options.subjectCenter){if(this.origHit){bB=bw(this.origHit,bB)||bB}bz=ah(bB)}this.coordAdjust=br(bz,bC)}else{this.origHit=null;this.coordAdjust=null}},computeCoords:function(){this.component.prepareHits();this.computeScrollBounds()},dragStart:function(bz){var bA;be.prototype.dragStart.apply(this,arguments);bA=this.queryHit(bz.pageX,bz.pageY);if(bA){this.hitOver(bA)}},drag:function(bA,bz,bB){var bC;be.prototype.drag.apply(this,arguments);bC=this.queryHit(bB.pageX,bB.pageY);if(!G(bC,this.hit)){if(this.hit){this.hitOut()}if(bC){this.hitOver(bC)}}},dragStop:function(){this.hitDone();be.prototype.dragStop.apply(this,arguments)},hitOver:function(bA){var bz=G(bA,this.origHit);this.hit=bA;this.trigger("hitOver",this.hit,bz,this.origHit)},hitOut:function(){if(this.hit){this.trigger("hitOut",this.hit);this.hitDone();this.hit=null}},hitDone:function(){if(this.hit){this.trigger("hitDone",this.hit)}},listenStop:function(){be.prototype.listenStop.apply(this,arguments);this.origHit=null;this.hit=null;this.component.releaseHits()},scrollStop:function(){be.prototype.scrollStop.apply(this,arguments);this.computeCoords()},queryHit:function(bA,bz){if(this.coordAdjust){bA+=this.coordAdjust.left;bz+=this.coordAdjust.top}return this.component.queryHit(bA,bz)}});function G(bA,bz){if(!bA&&!bz){return true}if(bA&&bz){return bA.component===bz.component&&I(bA,bz)&&I(bz,bA)}return false}function I(bz,bA){for(var bB in bz){if(!/^(component|left|right|top|bottom)$/.test(bB)){if(bz[bB]!==bA[bB]){return false}}}return true}var R=bg.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:false,isHidden:false,isAnimating:false,constructor:function(bz,bA){this.options=bA=bA||{};this.sourceEl=bz;this.parentEl=bA.parentEl?a8(bA.parentEl):bz.parent()},start:function(bz){if(!this.isFollowing){this.isFollowing=true;this.mouseY0=bz.pageY;this.mouseX0=bz.pageX;this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}a8(document).on("mousemove",this.mousemoveProxy=J(this,"mousemove"))}},stop:function(bA,bD){var bC=this;var bB=this.options.revertDuration;function bz(){this.isAnimating=false;bC.removeElement();this.top0=this.left0=null;if(bD){bD()}}if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;a8(document).off("mousemove",this.mousemoveProxy);if(bA&&bB&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:bB,complete:bz})}else{bz()}}},getEl:function(){var bz=this.el;if(!bz){this.sourceEl.width();bz=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)}return bz},removeElement:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var bA;var bz;this.getEl();if(this.top0===null){this.sourceEl.width();bA=this.sourceEl.offset();bz=this.el.offsetParent().offset();this.top0=bA.top-bz.top;this.left0=bA.left-bz.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(bz){this.topDelta=bz.pageY-this.mouseY0;this.leftDelta=bz.pageX-this.mouseX0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}});var aX=L.Grid=bg.extend({view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,externalDragStartProxy:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,constructor:function(bz){this.view=bz;this.isRTL=bz.opt("isRTL");this.elsByFill={};this.externalDragStartProxy=J(this,"externalDragStart")},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return true},computeDisplayEventEnd:function(){return true},setRange:function(bz){this.start=bz.start.clone();this.end=bz.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var bA=this.view;var bz;var bB;this.eventTimeFormat=bA.opt("eventTimeFormat")||bA.opt("timeFormat")||this.computeEventTimeFormat();bz=bA.opt("displayEventTime");if(bz==null){bz=this.computeDisplayEventTime()}bB=bA.opt("displayEventEnd");if(bB==null){bB=this.computeDisplayEventEnd()}this.displayEventTime=bz;this.displayEventEnd=bB},spanToSegs:function(bz){},diffDates:function(bA,bz){if(this.largeUnit){return o(bA,bz,this.largeUnit)}else{return F(bA,bz)}},prepareHits:function(){},releaseHits:function(){},queryHit:function(bA,bz){},getHitSpan:function(bz){},getHitEl:function(bz){},setElement:function(bz){var bA=this;this.el=bz;bz.on("mousedown",function(bB){if(!a8(bB.target).is(".fc-event-container *, .fc-more")&&!a8(bB.target).closest(".fc-popover").length){bA.dayMousedown(bB)}});this.bindSegHandlers();this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){a8(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){a8(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(bE){var bF=this;var bA=this.view;var bz=bA.opt("selectable");var bB;var bD;var bC=new d(this,{scroll:bA.opt("dragScroll"),dragStart:function(){bA.unselect()},hitOver:function(bH,bG,bI){if(bI){bB=bG?bH:null;if(bz){bD=bF.computeSelection(bF.getHitSpan(bI),bF.getHitSpan(bH));if(bD){bF.renderSelection(bD)}else{if(bD===false){aN()}}}}},hitOut:function(){bB=null;bD=null;bF.unrenderSelection();P()},listenStop:function(bG){if(bB){bA.triggerDayClick(bF.getHitSpan(bB),bF.getHitEl(bB),bG)}if(bD){bA.reportSelection(bD,bG)}P()}});bC.mousedown(bE)},renderEventLocationHelper:function(bA,bz){var bB=this.fabricateHelperEvent(bA,bz);this.renderHelper(bB,bz)},fabricateHelperEvent:function(bA,bz){var bB=bz?ak(bz.event):{};bB.start=bA.start.clone();bB.end=bA.end?bA.end.clone():null;bB.allDay=null;this.view.calendar.normalizeEventDates(bB);bB.className=(bB.className||[]).concat("fc-helper");if(!bz){bB.editable=false}return bB},renderHelper:function(bA,bz){},unrenderHelper:function(){},renderSelection:function(bz){this.renderHighlight(bz)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(bB,bz){var bA=this.computeSelectionSpan(bB,bz);if(bA&&!this.view.calendar.isSelectionSpanAllowed(bA)){return false}return bA},computeSelectionSpan:function(bA,bz){var bB=[bA.start,bA.end,bz.start,bz.end];bB.sort(aB);return{start:bB[0].clone(),end:bB[3].clone()}},renderHighlight:function(bz){this.renderFill("highlight",this.spanToSegs(bz))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(bz){},unrenderNowIndicator:function(){},renderFill:function(bA,bz){},unrenderFill:function(bA){var bz=this.elsByFill[bA];if(bz){bz.remove();delete this.elsByFill[bA]}},renderFillSegEls:function(bE,bA){var bF=this;var bz=this[bE+"SegEl"];var bD="";var bC=[];var bB;if(bA.length){for(bB=0;bB<bA.length;bB++){bD+=this.fillSegHtml(bE,bA[bB])}a8(bD).each(function(bH,bJ){var bG=bA[bH];var bI=a8(bJ);if(bz){bI=bz.call(bF,bG,bI)}if(bI){bI=a8(bI);if(bI.is(bF.fillSegTag)){bG.el=bI;bC.push(bG)}}})}return bC},fillSegTag:"div",fillSegHtml:function(bD,bz){var bE=this[bD+"SegClasses"];var bA=this[bD+"SegCss"];var bC=bE?bE.call(this,bz):[];var bB=aM(bA?bA.call(this,bz):{});return"<"+this.fillSegTag+(bC.length?' class="'+bC.join(" ")+'"':"")+(bB?' style="'+bB+'"':"")+" />"},getDayClasses:function(bB){var bz=this.view;var bA=bz.calendar.getNow();var bC=["fc-"+ar[bB.day()]];if(bz.intervalDuration.as("months")==1&&bB.month()!=bz.intervalStart.month()){bC.push("fc-other-month")}if(bB.isSame(bA,"day")){bC.push("fc-today",bz.highlightStateClass)}else{if(bB<bA){bC.push("fc-past")}else{bC.push("fc-future")}}return bC}});aX.mixin({mousedOverSeg:null,isDraggingSeg:false,isResizingSeg:false,isDraggingExternal:false,segs:null,renderEvents:function(bC){var bB=[];var bz=[];var bA;for(bA=0;bA<bC.length;bA++){(aL(bC[bA])?bB:bz).push(bC[bA])}this.segs=[].concat(this.renderBgEvents(bB),this.renderFgEvents(bz))},renderBgEvents:function(bA){var bz=this.eventsToSegs(bA);return this.renderBgSegs(bz)||bz},renderFgEvents:function(bA){var bz=this.eventsToSegs(bA);return this.renderFgSegs(bz)||bz},unrenderEvents:function(){this.triggerSegMouseout();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(bz){},unrenderFgSegs:function(){},renderFgSegEls:function(bB,bA){var bz=this.view;var bE="";var bD=[];var bC;if(bB.length){for(bC=0;bC<bB.length;bC++){bE+=this.fgSegHtml(bB[bC],bA)}a8(bE).each(function(bG,bI){var bF=bB[bG];var bH=bz.resolveEventEl(bF.event,a8(bI));if(bH){bH.data("fc-seg",bF);bF.el=bH;bD.push(bF)}})}return bD},fgSegHtml:function(bA,bz){},renderBgSegs:function(bz){return this.renderFill("bgEvent",bz)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(bz,bA){return this.view.resolveEventEl(bz.event,bA)},bgEventSegClasses:function(bz){var bA=bz.event;var bB=bA.source||{};return["fc-bgevent"].concat(bA.className,bB.className||[])},bgEventSegCss:function(bz){return{"background-color":this.getSegSkinCss(bz)["background-color"]}},businessHoursSegClasses:function(bz){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var bA=this;var bz=this.view;a8.each({mouseenter:function(bB,bC){bA.triggerSegMouseover(bB,bC)},mouseleave:function(bB,bC){bA.triggerSegMouseout(bB,bC)},click:function(bB,bC){return bz.trigger("eventClick",this,bB.event,bC)},mousedown:function(bB,bC){if(a8(bC.target).is(".fc-resizer")&&bz.isEventResizable(bB.event)){bA.segResizeMousedown(bB,bC,a8(bC.target).is(".fc-start-resizer"))}else{if(bz.isEventDraggable(bB.event)){bA.segDragMousedown(bB,bC)}}}},function(bB,bC){bA.el.on(bB,".fc-event-container > *",function(bE){var bD=a8(this).data("fc-seg");if(bD&&!bA.isDraggingSeg&&!bA.isResizingSeg){return bC.call(this,bD,bE)}})})},triggerSegMouseover:function(bz,bA){if(!this.mousedOverSeg){this.mousedOverSeg=bz;this.view.trigger("eventMouseover",bz.el[0],bz.event,bA)}},triggerSegMouseout:function(bz,bA){bA=bA||{};if(this.mousedOverSeg){bz=bz||this.mousedOverSeg;this.mousedOverSeg=null;this.view.trigger("eventMouseout",bz.el[0],bz.event,bA)}},segDragMousedown:function(bD,bH){var bG=this;var bI=this.view;var bE=bI.calendar;var bC=bD.el;var bB=bD.event;var bF;var bA=new R(bD.el,{parentEl:bI.el,opacity:bI.opt("dragOpacity"),revertDuration:bI.opt("dragRevertDuration"),zIndex:2});var bz=new d(bI,{distance:5,scroll:bI.opt("dragScroll"),subjectEl:bC,subjectCenter:true,listenStart:function(bJ){bA.hide();bA.start(bJ)},dragStart:function(bJ){bG.triggerSegMouseout(bD,bJ);bG.segDragStart(bD,bJ);bI.hideEvent(bB)},hitOver:function(bK,bJ,bL){if(bD.hit){bL=bD.hit}bF=bG.computeEventDrop(bL.component.getHitSpan(bL),bK.component.getHitSpan(bK),bB);if(bF&&!bE.isEventSpanAllowed(bG.eventToSpan(bF),bB)){aN();bF=null}if(bF&&bI.renderDrag(bF,bD)){bA.hide()}else{bA.show()}if(bJ){bF=null}},hitOut:function(){bI.unrenderDrag();bA.show();bF=null},hitDone:function(){P()},dragStop:function(bJ){bA.stop(!bF,function(){bI.unrenderDrag();bI.showEvent(bB);bG.segDragStop(bD,bJ);if(bF){bI.reportEventDrop(bB,bF,this.largeUnit,bC,bJ)}})},listenStop:function(){bA.stop()}});bz.mousedown(bH)},segDragStart:function(bz,bA){this.isDraggingSeg=true;this.view.trigger("eventDragStart",bz.el[0],bz.event,bA,{})},segDragStop:function(bz,bA){this.isDraggingSeg=false;this.view.trigger("eventDragStop",bz.el[0],bz.event,bA,{})},computeEventDrop:function(bB,bG,bD){var bE=this.view.calendar;var bA=bB.start;var bz=bG.start;var bF;var bC;if(bA.hasTime()===bz.hasTime()){bF=this.diffDates(bz,bA);if(bD.allDay&&aQ(bF)){bC={start:bD.start.clone(),end:bE.getEventEnd(bD),allDay:false};bE.normalizeEventTimes(bC)}else{bC={start:bD.start.clone(),end:bD.end?bD.end.clone():null,allDay:bD.allDay}}bC.start.add(bF);if(bC.end){bC.end.add(bF)}}else{bC={start:bz.clone(),end:null,allDay:!bz.hasTime()}}return bC},applyDragOpacity:function(bA){var bz=this.view.opt("dragOpacity");if(bz!=null){bA.each(function(bB,bC){bC.style.opacity=bz})}},externalDragStart:function(bC,bD){var bz=this.view;var bB;var bA;if(bz.opt("droppable")){bB=a8((bD?bD.item:null)||bC.target);bA=bz.opt("dropAccept");if(a8.isFunction(bA)?bA.call(bB[0],bB):bB.is(bA)){if(!this.isDraggingExternal){this.listenToExternalDrag(bB,bC,bD)}}}},listenToExternalDrag:function(bA,bC,bD){var bG=this;var bF=this.view.calendar;var bE=aA(bA);var bB;var bz=new d(this,{listenStart:function(){bG.isDraggingExternal=true},hitOver:function(bH){bB=bG.computeExternalDrop(bH.component.getHitSpan(bH),bE);if(bB&&!bF.isExternalSpanAllowed(bG.eventToSpan(bB),bB,bE.eventProps)){aN();bB=null}if(bB){bG.renderDrag(bB)}},hitOut:function(){bB=null},hitDone:function(){P();bG.unrenderDrag()},dragStop:function(){if(bB){bG.view.reportExternalDrop(bE,bB,bA,bC,bD)}},listenStop:function(){bG.isDraggingExternal=false}});bz.startDrag(bC)},computeExternalDrop:function(bz,bC){var bB=this.view.calendar;var bA={start:bB.applyTimezone(bz.start),end:null};if(bC.startTime&&!bA.start.hasTime()){bA.start.time(bC.startTime)}if(bC.duration){bA.end=bA.start.clone().add(bC.duration)}return bA},renderDrag:function(bA,bz){},unrenderDrag:function(){},segResizeMousedown:function(bD,bH,bA){var bG=this;var bI=this.view;var bE=bI.calendar;var bC=bD.el;var bB=bD.event;var bF=bE.getEventEnd(bB);var bJ;var bz=new d(this,{distance:5,scroll:bI.opt("dragScroll"),subjectEl:bC,dragStart:function(bK){bG.triggerSegMouseout(bD,bK);bG.segResizeStart(bD,bK)},hitOver:function(bM,bK,bO){var bL=bG.getHitSpan(bO);var bN=bG.getHitSpan(bM);bJ=bA?bG.computeEventStartResize(bL,bN,bB):bG.computeEventEndResize(bL,bN,bB);if(bJ){if(!bE.isEventSpanAllowed(bG.eventToSpan(bJ),bB)){aN();bJ=null}else{if(bJ.start.isSame(bB.start)&&bJ.end.isSame(bF)){bJ=null}}}if(bJ){bI.hideEvent(bB);bG.renderEventResize(bJ,bD)}},hitOut:function(){bJ=null},hitDone:function(){bG.unrenderEventResize();bI.showEvent(bB);P()},dragStop:function(bK){bG.segResizeStop(bD,bK);if(bJ){bI.reportEventResize(bB,bJ,this.largeUnit,bC,bK)}}});bz.mousedown(bH)},segResizeStart:function(bz,bA){this.isResizingSeg=true;this.view.trigger("eventResizeStart",bz.el[0],bz.event,bA,{})},segResizeStop:function(bz,bA){this.isResizingSeg=false;this.view.trigger("eventResizeStop",bz.el[0],bz.event,bA,{})},computeEventStartResize:function(bz,bB,bA){return this.computeEventResize("start",bz,bB,bA)},computeEventEndResize:function(bz,bB,bA){return this.computeEventResize("end",bz,bB,bA)},computeEventResize:function(bA,bz,bG,bB){var bD=this.view.calendar;var bF=this.diffDates(bG[bA],bz[bA]);var bE;var bC;bE={start:bB.start.clone(),end:bD.getEventEnd(bB),allDay:bB.allDay};if(bE.allDay&&aQ(bF)){bE.allDay=false;bD.normalizeEventTimes(bE)}bE[bA].add(bF);if(!bE.start.isBefore(bE.end)){bC=this.minResizeDuration||(bB.allDay?bD.defaultAllDayEventDuration:bD.defaultTimedEventDuration);if(bA=="start"){bE.start=bE.end.clone().subtract(bC)}else{bE.end=bE.start.clone().add(bC)}}return bE},renderEventResize:function(bA,bz){},unrenderEventResize:function(){},getEventTimeText:function(bA,bz,bB){if(bz==null){bz=this.eventTimeFormat}if(bB==null){bB=this.displayEventEnd}if(this.displayEventTime&&bA.start.hasTime()){if(bB&&bA.end){return this.view.formatRange(bA,bz)}else{return bA.start.format(bz)}}return""},getSegClasses:function(bz,bB,bD){var bC=bz.event;var bA=["fc-event",bz.isStart?"fc-start":"fc-not-start",bz.isEnd?"fc-end":"fc-not-end"].concat(bC.className,bC.source?bC.source.className:[]);if(bB){bA.push("fc-draggable")}if(bD){bA.push("fc-resizable")}return bA},getSegSkinCss:function(bA){var bD=bA.event;var bz=this.view;var bE=bD.source||{};var bB=bD.color;var bF=bE.color;var bC=bz.opt("eventColor");return{"background-color":bD.backgroundColor||bB||bE.backgroundColor||bF||bz.opt("eventBackgroundColor")||bC,"border-color":bD.borderColor||bB||bE.borderColor||bF||bz.opt("eventBorderColor")||bC,color:bD.textColor||bE.textColor||bz.opt("eventTextColor")}},eventToSegs:function(bz){return this.eventsToSegs([bz])},eventToSpan:function(bz){return this.eventToSpans(bz)[0]},eventToSpans:function(bA){var bz=this.eventToRange(bA);return this.eventRangeToSpans(bz,bA)},eventsToSegs:function(bA,bD){var bC=this;var bB=a1(bA);var bz=[];a8.each(bB,function(bH,bG){var bE=[];var bF;for(bF=0;bF<bG.length;bF++){bE.push(bC.eventToRange(bG[bF]))}if(b(bG[0])){bE=bC.invertRanges(bE);for(bF=0;bF<bE.length;bF++){bz.push.apply(bz,bC.eventRangeToSegs(bE[bF],bG[0],bD))}}else{for(bF=0;bF<bE.length;bF++){bz.push.apply(bz,bC.eventRangeToSegs(bE[bF],bG[bF],bD))}}});return bz},eventToRange:function(bz){return{start:bz.start.clone().stripZone(),end:(bz.end?bz.end.clone():this.view.calendar.getDefaultEventEnd(bz.allDay!=null?bz.allDay:!bz.start.hasTime(),bz.start)).stripZone()}},eventRangeToSegs:function(bA,bD,bE){var bC=this.eventRangeToSpans(bA,bD);var bz=[];var bB;for(bB=0;bB<bC.length;bB++){bz.push.apply(bz,this.eventSpanToSegs(bC[bB],bD,bE))}return bz},eventRangeToSpans:function(bz,bA){return[a8.extend({},bz)]},eventSpanToSegs:function(bC,bD,bE){var bA=bE?bE(bC):this.spanToSegs(bC);var bB,bz;for(bB=0;bB<bA.length;bB++){bz=bA[bB];bz.event=bD;bz.eventStartMS=+bC.start;bz.eventDurationMS=bC.end-bC.start}return bA},invertRanges:function(bA){var bz=this.view;var bG=bz.start.clone();var bD=bz.end.clone();var bE=[];var bF=bG;var bC,bB;bA.sort(ax);for(bC=0;bC<bA.length;bC++){bB=bA[bC];if(bB.start>bF){bE.push({start:bF,end:bB.start})}bF=bB.end}if(bF<bD){bE.push({start:bF,end:bD})}return bE},sortEventSegs:function(bz){bz.sort(J(this,"compareEventSegs"))},compareEventSegs:function(bA,bz){return bA.eventStartMS-bz.eventStartMS||bz.eventDurationMS-bA.eventDurationMS||bz.event.allDay-bA.event.allDay||aF(bA.event,bz.event,this.view.eventOrderSpecs)}});function aL(bA){var bz=aH(bA);return bz==="background"||bz==="inverse-background"}L.isBgEvent=aL;function b(bz){return aH(bz)==="inverse-background"}function aH(bz){return bv((bz.source||{}).rendering,bz.rendering)}function a1(bA){var bB={};var bz,bC;for(bz=0;bz<bA.length;bz++){bC=bA[bz];(bB[bC._id]||(bB[bC._id]=[])).push(bC)}return bB}function ax(bA,bz){return bA.start-bz.start}L.dataAttrPrefix="";function aA(bB){var bD=L.dataAttrPrefix;var bC;var bA;var bE;var bz;if(bD){bD+="-"}bC=bB.data(bD+"event")||null;if(bC){if(typeof bC==="object"){bC=a8.extend({},bC)}else{bC={}}bA=bC.start;if(bA==null){bA=bC.time}bE=bC.duration;bz=bC.stick;delete bC.start;delete bC.time;delete bC.duration;delete bC.stick}if(bA==null){bA=bB.data(bD+"start")}if(bA==null){bA=bB.data(bD+"time")}if(bE==null){bE=bB.data(bD+"duration")}if(bz==null){bz=bB.data(bD+"stick")}bA=bA!=null?O.duration(bA):null;bE=bE!=null?O.duration(bE):null;bz=Boolean(bz);return{eventProps:bC,startTime:bA,duration:bE,stick:bz}}var h=L.DayTableMixin={breakOnWeeks:false,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){var bA=this.view;var bD=this.start.clone();var bE=-1;var bz=[];var bG=[];var bC;var bB;var bF;while(bD.isBefore(this.end)){if(bA.isHiddenDay(bD)){bz.push(bE+0.5)}else{bE++;bz.push(bE);bG.push(bD.clone())}bD.add(1,"days")}if(this.breakOnWeeks){bB=bG[0].day();for(bC=1;bC<bG.length;bC++){if(bG[bC].day()==bB){break}}bF=Math.ceil(bG.length/bC)}else{bF=1;bC=bG.length}this.dayDates=bG;this.dayIndices=bz;this.daysPerRow=bC;this.rowCnt=bF;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(bA,bz){return this.dayDates[this.getCellDayIndex(bA,bz)].clone()},getCellRange:function(bB,bA){var bC=this.getCellDate(bB,bA);var bz=bC.clone().add(1,"days");return{start:bC,end:bz}},getCellDayIndex:function(bA,bz){return bA*this.daysPerRow+this.getColDayIndex(bz)},getColDayIndex:function(bz){if(this.isRTL){return this.colCnt-1-bz}else{return bz}},getDateDayIndex:function(bB){var bz=this.dayIndices;var bA=bB.diff(this.start,"days");if(bA<0){return bz[0]-1}else{if(bA>=bz.length){return bz[bz.length-1]+1}else{return bz[bA]}}},computeColHeadFormat:function(){if(this.rowCnt>1||this.colCnt>10){return"ddd"}else{if(this.colCnt>1){return this.view.opt("dayOfMonthFormat")}else{return"dddd"}}},sliceRangeByRow:function(bC){var bH=this.daysPerRow;var bB=this.view.computeDayRange(bC);var bA=this.getDateDayIndex(bB.start);var bE=this.getDateDayIndex(bB.end.clone().subtract(1,"days"));var bz=[];var bJ;var bF,bG;var bI,bD;for(bJ=0;bJ<this.rowCnt;bJ++){bF=bJ*bH;bG=bF+bH-1;bI=Math.max(bA,bF);bD=Math.min(bE,bG);bI=Math.ceil(bI);bD=Math.floor(bD);if(bI<=bD){bz.push({row:bJ,firstRowDayIndex:bI-bF,lastRowDayIndex:bD-bF,isStart:bI===bA,isEnd:bD===bE})}}return bz},sliceRangeByDay:function(bD){var bI=this.daysPerRow;var bC=this.view.computeDayRange(bD);var bA=this.getDateDayIndex(bC.start);var bF=this.getDateDayIndex(bC.end.clone().subtract(1,"days"));var bz=[];var bK;var bG,bH;var bB;var bJ,bE;for(bK=0;bK<this.rowCnt;bK++){bG=bK*bI;bH=bG+bI-1;for(bB=bG;bB<=bH;bB++){bJ=Math.max(bA,bB);bE=Math.min(bF,bB);bJ=Math.ceil(bJ);bE=Math.floor(bE);if(bJ<=bE){bz.push({row:bK,firstRowDayIndex:bJ-bG,lastRowDayIndex:bE-bG,isStart:bJ===bA,isEnd:bE===bF})}}}return bz},renderHeadHtml:function(){var bz=this.view;return'<div class="fc-row '+bz.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var bB=[];var bA,bz;for(bA=0;bA<this.colCnt;bA++){bz=this.getCellDate(0,bA);bB.push(this.renderHeadDateCellHtml(bz))}return bB.join("")},renderHeadDateCellHtml:function(bB,bC,bz){var bA=this.view;return'<th class="fc-day-header '+bA.widgetHeaderClass+" fc-"+ar[bB.day()]+'"'+(this.rowCnt==1?' data-date="'+bB.format("YYYY-MM-DD")+'"':"")+(bC>1?' colspan="'+bC+'"':"")+(bz?" "+bz:"")+">"+bt(bB.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(bz){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(bz))+this.renderBgCellsHtml(bz)+(this.isRTL?this.renderBgIntroHtml(bz):"")+"</tr>"},renderBgIntroHtml:function(bz){return this.renderIntroHtml()},renderBgCellsHtml:function(bC){var bB=[];var bA,bz;for(bA=0;bA<this.colCnt;bA++){bz=this.getCellDate(bC,bA);bB.push(this.renderBgCellHtml(bz))}return bB.join("")},renderBgCellHtml:function(bB,bz){var bA=this.view;var bC=this.getDayClasses(bB);bC.unshift("fc-day",bA.widgetContentClass);return'<td class="'+bC.join(" ")+'" data-date="'+bB.format("YYYY-MM-DD")+'"'+(bz?" "+bz:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(bA){var bz=this.renderIntroHtml();if(bz){if(this.isRTL){bA.append(bz)}else{bA.prepend(bz)}}}};var bh=L.DayGrid=aX.extend(h,{numbersVisible:false,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(bA){var bz=this.view;var bF=this.rowCnt;var bC=this.colCnt;var bD="";var bE;var bB;for(bE=0;bE<bF;bE++){bD+=this.renderDayRowHtml(bE,bA)}this.el.html(bD);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day");this.rowCoordCache=new bc({els:this.rowEls,isVertical:true});this.colCoordCache=new bc({els:this.cellEls.slice(0,this.colCnt),isHorizontal:true});for(bE=0;bE<bF;bE++){for(bB=0;bB<bC;bB++){bz.trigger("dayRender",null,this.getCellDate(bE,bB),this.getCellEl(bE,bB))}}},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var bA=this.view.calendar.getBusinessHoursEvents(true);var bz=this.eventsToSegs(bA);this.renderFill("businessHours",bz,"bgevent")},renderDayRowHtml:function(bC,bA){var bz=this.view;var bB=["fc-row","fc-week",bz.widgetContentClass];if(bA){bB.push("fc-rigid")}return'<div class="'+bB.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(bC)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(bC)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(bz){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(bz))+this.renderNumberCellsHtml(bz)+(this.isRTL?this.renderNumberIntroHtml(bz):"")+"</tr>"},renderNumberIntroHtml:function(bz){return this.renderIntroHtml()},renderNumberCellsHtml:function(bC){var bB=[];var bA,bz;for(bA=0;bA<this.colCnt;bA++){bz=this.getCellDate(bC,bA);bB.push(this.renderNumberCellHtml(bz))}return bB.join("")},renderNumberCellHtml:function(bz){var bA;if(!this.view.dayNumbersVisible){return"<td/>"}bA=this.getDayClasses(bz);bA.unshift("fc-day-number");return'<td class="'+bA.join(" ")+'" data-date="'+bz.format()+'">'+bz.date()+"</td>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return this.colCnt==1},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(bC){var bA=this.sliceRangeByRow(bC);var bB,bz;for(bB=0;bB<bA.length;bB++){bz=bA[bB];if(this.isRTL){bz.leftCol=this.daysPerRow-1-bz.lastRowDayIndex;bz.rightCol=this.daysPerRow-1-bz.firstRowDayIndex}else{bz.leftCol=bz.firstRowDayIndex;bz.rightCol=bz.lastRowDayIndex}}return bA},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(bB,bA){var bz=this.colCoordCache.getHorizontalIndex(bB);var bC=this.rowCoordCache.getVerticalIndex(bA);if(bC!=null&&bz!=null){return this.getCellHit(bC,bz)}},getHitSpan:function(bz){return this.getCellRange(bz.row,bz.col)},getHitEl:function(bz){return this.getCellEl(bz.row,bz.col)},getCellHit:function(bA,bz){return{row:bA,col:bz,component:this,left:this.colCoordCache.getLeftOffset(bz),right:this.colCoordCache.getRightOffset(bz),top:this.rowCoordCache.getTopOffset(bA),bottom:this.rowCoordCache.getBottomOffset(bA)}},getCellEl:function(bA,bz){return this.cellEls.eq(bA*this.colCnt+bz)},renderDrag:function(bA,bz){this.renderHighlight(this.eventToSpan(bA));if(bz&&!bz.el.closest(this.el).length){this.renderEventLocationHelper(bA,bz);this.applyDragOpacity(this.helperEls);return true}},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(bA,bz){this.renderHighlight(this.eventToSpan(bA));this.renderEventLocationHelper(bA,bz)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(bD,bB){var bz=[];var bA=this.eventToSegs(bD);var bC;bA=this.renderFgSegEls(bA);bC=this.renderSegRows(bA);this.rowEls.each(function(bI,bG){var bF=a8(bG);var bH=a8('<div class="fc-helper-skeleton"><table/></div>');var bE;if(bB&&bB.row===bI){bE=bB.el.position().top}else{bE=bF.find(".fc-content-skeleton tbody").position().top}bH.css("top",bE).find("table").append(bC[bI].tbodyEl);bF.append(bH);bz.push(bH[0])});this.helperEls=a8(bz)},unrenderHelper:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},fillSegTag:"td",renderFill:function(bE,bA,bD){var bB=[];var bC,bz;var bF;bA=this.renderFillSegEls(bE,bA);for(bC=0;bC<bA.length;bC++){bz=bA[bC];bF=this.renderFillRow(bE,bz,bD);this.rowEls.eq(bz.row).append(bF);bB.push(bF[0])}this.elsByFill[bE]=a8(bB);return bA},renderFillRow:function(bC,bz,bB){var bA=this.colCnt;var bF=bz.leftCol;var bE=bz.rightCol+1;var bG;var bD;bB=bB||bC.toLowerCase();bG=a8('<div class="fc-'+bB+'-skeleton"><table><tr/></table></div>');bD=bG.find("tr");if(bF>0){bD.append('<td colspan="'+bF+'"/>')}bD.append(bz.el.attr("colspan",bE-bF));if(bE<bA){bD.append('<td colspan="'+(bA-bE)+'"/>')}this.bookendCells(bD);return bG}});bh.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();aX.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return aX.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(bz){var bA=a8.grep(bz,function(bB){return bB.event.allDay});return aX.prototype.renderBgSegs.call(this,bA)},renderFgSegs:function(bz){var bA;bz=this.renderFgSegEls(bz);bA=this.rowStructs=this.renderSegRows(bz);this.rowEls.each(function(bB,bC){a8(bC).find(".fc-content-skeleton > table").append(bA[bB].tbodyEl)});return bz},unrenderFgSegs:function(){var bA=this.rowStructs||[];var bz;while((bz=bA.pop())){bz.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(bA){var bB=[];var bz;var bC;bz=this.groupSegRows(bA);for(bC=0;bC<bz.length;bC++){bB.push(this.renderSegRow(bC,bz[bC]))}return bB},fgSegHtml:function(bG,bB){var bJ=this.view;var bA=bG.event;var bz=bJ.isEventDraggable(bA);var bE=!bB&&bA.allDay&&bG.isStart&&bJ.isEventResizableFromStart(bA);var bD=!bB&&bA.allDay&&bG.isEnd&&bJ.isEventResizableFromEnd(bA);var bF=this.getSegClasses(bG,bz,bE||bD);var bK=aM(this.getSegSkinCss(bG));var bI="";var bC;var bH;bF.unshift("fc-day-grid-event","fc-h-event");if(bG.isStart){bC=this.getEventTimeText(bA);if(bC){bI='<span class="fc-time">'+bt(bC)+"</span>"}}bH='<span class="fc-title">'+(bt(bA.title||"")||"&nbsp;")+"</span>";return'<a class="'+bF.join(" ")+'"'+(bA.url?' href="'+bt(bA.url)+'"':"")+(bK?' style="'+bK+'"':"")+'><div class="fc-content">'+(this.isRTL?bH+" "+bI:bI+" "+bH)+"</div>"+(bE?'<div class="fc-resizer fc-start-resizer" />':"")+(bD?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(bO,bP){var bM=this.colCnt;var bI=this.buildSegLevels(bP);var bz=Math.max(1,bI.length);var bH=a8("<tbody/>");var bD=[];var bJ=[];var bB=[];var bG,bL;var bA;var bK;var bF,bE;var bC;function bN(bQ){while(bA<bQ){bC=(bB[bG-1]||[])[bA];if(bC){bC.attr("rowspan",parseInt(bC.attr("rowspan")||1,10)+1)}else{bC=a8("<td/>");bK.append(bC)}bJ[bG][bA]=bC;bB[bG][bA]=bC;bA++}}for(bG=0;bG<bz;bG++){bL=bI[bG];bA=0;bK=a8("<tr/>");bD.push([]);bJ.push([]);bB.push([]);if(bL){for(bF=0;bF<bL.length;bF++){bE=bL[bF];bN(bE.leftCol);bC=a8('<td class="fc-event-container"/>').append(bE.el);if(bE.leftCol!=bE.rightCol){bC.attr("colspan",bE.rightCol-bE.leftCol+1)}else{bB[bG][bA]=bC}while(bA<=bE.rightCol){bJ[bG][bA]=bC;bD[bG][bA]=bE;bA++}bK.append(bC)}}bN(bM);this.bookendCells(bK);bH.append(bK)}return{row:bO,tbodyEl:bH,cellMatrix:bJ,segMatrix:bD,segLevels:bI,segs:bP}},buildSegLevels:function(bA){var bD=[];var bC,bz;var bB;this.sortEventSegs(bA);for(bC=0;bC<bA.length;bC++){bz=bA[bC];for(bB=0;bB<bD.length;bB++){if(!Q(bz,bD[bB])){break}}bz.level=bB;(bD[bB]||(bD[bB]=[])).push(bz)}for(bB=0;bB<bD.length;bB++){bD[bB].sort(aV)}return bD},groupSegRows:function(bA){var bz=[];var bB;for(bB=0;bB<this.rowCnt;bB++){bz.push([])}for(bB=0;bB<bA.length;bB++){bz[bA[bB].row].push(bA[bB])}return bz}});function Q(bz,bC){var bA,bB;for(bA=0;bA<bC.length;bA++){bB=bC[bA];if(bB.leftCol<=bz.rightCol&&bB.rightCol>=bz.leftCol){return true}}return false}function aV(bA,bz){return bA.leftCol-bz.leftCol}bh.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(bB){var bz=this.rowStructs||[];var bC;var bA;for(bC=0;bC<bz.length;bC++){this.unlimitRow(bC);if(!bB){bA=false}else{if(typeof bB==="number"){bA=bB}else{bA=this.computeRowLevelLimit(bC)}}if(bA!==false){this.limitRow(bC,bA)}}},computeRowLevelLimit:function(bG){var bB=this.rowEls.eq(bG);var bF=bB.height();var bA=this.rowStructs[bG].tbodyEl.children();var bC,bE;var bz;function bD(bI,bH){bz=Math.max(bz,a8(bH).outerHeight())}for(bC=0;bC<bA.length;bC++){bE=bA.eq(bC).removeClass("fc-limited");bz=0;bE.find("> td > :first-child").each(bD);if(bE.position().top+bz>bF){return bC}}return false},limitRow:function(bH,bL){var bN=this;var bB=this.rowStructs[bH];var bG=[];var bF=0;var bz;var bE;var bS;var bQ,bR;var bU;var bI;var bA;var bJ,bT;var bD;var bO;var bC,bP,bM;function bK(bV){while(bF<bV){bU=bN.getCellSegs(bH,bF,bL);if(bU.length){bJ=bE[bL-1][bF];bM=bN.renderMoreLink(bH,bF,bU);bP=a8("<div/>").append(bM);bJ.append(bP);bG.push(bP[0])}bF++}}if(bL&&bL<bB.segLevels.length){bz=bB.segLevels[bL-1];bE=bB.cellMatrix;bS=bB.tbodyEl.children().slice(bL).addClass("fc-limited").get();for(bQ=0;bQ<bz.length;bQ++){bR=bz[bQ];bK(bR.leftCol);bA=[];bI=0;while(bF<=bR.rightCol){bU=this.getCellSegs(bH,bF,bL);bA.push(bU);bI+=bU.length;bF++}if(bI){bJ=bE[bL-1][bR.leftCol];bT=bJ.attr("rowspan")||1;bD=[];for(bO=0;bO<bA.length;bO++){bC=a8('<td class="fc-more-cell"/>').attr("rowspan",bT);bU=bA[bO];bM=this.renderMoreLink(bH,bR.leftCol+bO,[bR].concat(bU));bP=a8("<div/>").append(bM);bC.append(bP);bD.push(bC[0]);bG.push(bC[0])}bJ.addClass("fc-limited").after(a8(bD));bS.push(bJ[0])}}bK(this.colCnt);bB.moreEls=a8(bG);bB.limitedEls=a8(bS)}},unlimitRow:function(bA){var bz=this.rowStructs[bA];if(bz.moreEls){bz.moreEls.remove();bz.moreEls=null}if(bz.limitedEls){bz.limitedEls.removeClass("fc-limited");bz.limitedEls=null}},renderMoreLink:function(bC,bB,bA){var bD=this;var bz=this.view;return a8('<a class="fc-more"/>').text(this.getMoreLinkText(bA.length)).on("click",function(bI){var bL=bz.opt("eventLimitClick");var bF=bD.getCellDate(bC,bB);var bJ=a8(this);var bK=bD.getCellEl(bC,bB);var bE=bD.getCellSegs(bC,bB);var bG=bD.resliceDaySegs(bE,bF);var bH=bD.resliceDaySegs(bA,bF);if(typeof bL==="function"){bL=bz.trigger("eventLimitClick",null,{date:bF,dayEl:bK,moreEl:bJ,segs:bG,hiddenSegs:bH},bI)}if(bL==="popover"){bD.showSegPopover(bC,bB,bJ,bG)}else{if(typeof bL==="string"){bz.calendar.zoomTo(bF,bL)}}})},showSegPopover:function(bH,bB,bF,bz){var bC=this;var bE=this.view;var bA=bF.parent();var bD;var bG;if(this.rowCnt==1){bD=bE.el}else{bD=this.rowEls.eq(bH)}bG={className:"fc-more-popover",content:this.renderSegPopoverContent(bH,bB,bz),parentEl:this.el,top:bD.offset().top,autoHide:true,viewportConstrain:bE.opt("popoverViewportConstrain"),hide:function(){bC.segPopover.removeElement();bC.segPopover=null;bC.popoverSegs=null}};if(this.isRTL){bG.right=bA.offset().left+bA.outerWidth()+1}else{bG.left=bA.offset().left-1}this.segPopover=new t(bG);this.segPopover.show()},renderSegPopoverContent:function(bH,bA,bz){var bE=this.view;var bB=bE.opt("theme");var bF=this.getCellDate(bH,bA).format(bE.opt("dayPopoverFormat"));var bD=a8('<div class="fc-header '+bE.widgetHeaderClass+'"><span class="fc-close '+(bB?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+bt(bF)+'</span><div class="fc-clear"/></div><div class="fc-body '+bE.widgetContentClass+'"><div class="fc-event-container"></div></div>');var bG=bD.find(".fc-event-container");var bC;bz=this.renderFgSegEls(bz,true);this.popoverSegs=bz;for(bC=0;bC<bz.length;bC++){this.prepareHits();bz[bC].hit=this.getCellHit(bH,bA);this.releaseHits();bG.append(bz[bC].el)}return bD},resliceDaySegs:function(bB,bz){var bD=a8.map(bB,function(bF){return bF.event});var bA=bz.clone();var bE=bA.clone().add(1,"days");var bC={start:bA,end:bE};bB=this.eventsToSegs(bD,function(bG){var bF=q(bG,bC);return bF?[bF]:[]});this.sortEventSegs(bB);return bB},getMoreLinkText:function(bz){var bA=this.view.opt("eventLimitText");if(typeof bA==="function"){return bA(bz)}else{return"+"+bz+" "+bA}},getCellSegs:function(bE,bB,bC){var bD=this.rowStructs[bE].segMatrix;var bF=bC||0;var bA=[];var bz;while(bF<bD.length){bz=bD[bF][bB];if(bz){bA.push(bz)}bF++}return bA}});var k=L.TimeGrid=aX.extend(h,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){aX.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day");this.slatEls=this.el.find(".fc-slats tr");this.colCoordCache=new bc({els:this.colEls,isHorizontal:true});this.slatCoordCache=new bc({els:this.slatEls,isVertical:true});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){var bz=this.view;var bD=this.isRTL;var bC="";var bE=O.duration(+this.minTime);var bB;var bA;var bF;while(bE<this.maxTime){bB=this.start.clone().time(bE);bA=ai(p(bE,this.labelInterval));bF='<td class="fc-axis fc-time '+bz.widgetContentClass+'" '+bz.axisStyleAttr()+">"+(bA?"<span>"+bt(bB.format(this.labelFormat))+"</span>":"")+"</td>";bC+='<tr data-time="'+bB.format("HH:mm:ss")+'"'+(bA?"":' class="fc-minor"')+">"+(!bD?bF:"")+'<td class="'+bz.widgetContentClass+'"/>'+(bD?bF:"")+"</tr>";bE.add(this.slotDuration)}return bC},processOptions:function(){var bz=this.view;var bC=bz.opt("slotDuration");var bB=bz.opt("snapDuration");var bA;bC=O.duration(bC);bB=bB?O.duration(bB):bC;this.slotDuration=bC;this.snapDuration=bB;this.snapsPerSlot=bC/bB;this.minResizeDuration=bB;this.minTime=O.duration(bz.opt("minTime"));this.maxTime=O.duration(bz.opt("maxTime"));bA=bz.opt("slotLabelFormat");if(a8.isArray(bA)){bA=bA[bA.length-1]}this.labelFormat=bA||bz.opt("axisFormat")||bz.opt("smallTimeFormat");bA=bz.opt("slotLabelInterval");this.labelInterval=bA?O.duration(bA):this.computeLabelInterval(bC)},computeLabelInterval:function(bB){var bA;var bz;var bC;for(bA=bs.length-1;bA>=0;bA--){bz=O.duration(bs[bA]);bC=p(bz,bB);if(ai(bC)&&bC>1){return bz}}return O.duration(bB)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return true},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(bA,bG){var bD=this.snapsPerSlot;var bJ=this.colCoordCache;var bz=this.slatCoordCache;var bL=bJ.getHorizontalIndex(bA);var bM=bz.getVerticalIndex(bG);if(bL!=null&&bM!=null){var bK=bz.getTopOffset(bM);var bH=bz.getHeight(bM);var bI=(bG-bK)/bH;var bB=Math.floor(bI*bD);var bF=bM*bD+bB;var bE=bK+(bB/bD)*bH;var bC=bK+((bB+1)/bD)*bH;return{col:bL,snap:bF,component:this,left:bJ.getLeftOffset(bL),right:bJ.getRightOffset(bL),top:bE,bottom:bC}}},getHitSpan:function(bA){var bC=this.getCellDate(0,bA.col);var bB=this.computeSnapTime(bA.snap);var bz;bC.time(bB);bz=bC.clone().add(this.snapDuration);return{start:bC,end:bz}},getHitEl:function(bz){return this.colEls.eq(bz.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(bz){return O.duration(this.minTime+this.snapDuration*bz)},spanToSegs:function(bB){var bz=this.sliceRangeByTimes(bB);var bA;for(bA=0;bA<bz.length;bA++){if(this.isRTL){bz[bA].col=this.daysPerRow-1-bz[bA].dayIndex}else{bz[bA].col=bz[bA].dayIndex}}return bz},sliceRangeByTimes:function(bC){var bB=[];var bA;var bE;var bz;var bD;for(bE=0;bE<this.daysPerRow;bE++){bz=this.dayDates[bE].clone();bD={start:bz.clone().time(this.minTime),end:bz.clone().time(this.maxTime)};bA=q(bC,bD);if(bA){bA.dayIndex=bE;bB.push(bA)}}return bB},updateSize:function(bz){this.slatCoordCache.build();if(bz){this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))}},computeDateTop:function(bz,bA){return this.computeTimeTop(O.duration(bz-bA.clone().stripTime()))},computeTimeTop:function(bD){var bz=this.slatEls.length;var bC=(bD-this.minTime)/this.slotDuration;var bB;var bA;bC=Math.max(0,bC);bC=Math.min(bz,bC);bB=Math.floor(bC);bB=Math.min(bB,bz-1);bA=bC-bB;return this.slatCoordCache.getTopPosition(bB)+this.slatCoordCache.getHeight(bB)*bA},renderDrag:function(bB,bz){if(bz){this.renderEventLocationHelper(bB,bz);for(var bA=0;bA<this.helperSegs.length;bA++){this.applyDragOpacity(this.helperSegs[bA].el)}return true}else{this.renderHighlight(this.eventToSpan(bB))}},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(bA,bz){this.renderEventLocationHelper(bA,bz)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(bA,bz){this.renderHelperSegs(this.eventToSegs(bA),bz)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var bA=this.view.calendar.getBusinessHoursEvents();var bz=this.eventsToSegs(bA);this.renderBusinessSegs(bz)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(bB){var bz=this.spanToSegs({start:bB,end:bB});var bD=this.computeDateTop(bB,bB);var bA=[];var bC;for(bC=0;bC<bz.length;bC++){bA.push(a8('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",bD).appendTo(this.colContainerEls.eq(bz[bC].col))[0])}if(bz.length>0){bA.push(a8('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",bD).appendTo(this.el.find(".fc-content-skeleton"))[0])}this.nowIndicatorEls=a8(bA)},unrenderNowIndicator:function(){if(this.nowIndicatorEls){this.nowIndicatorEls.remove();this.nowIndicatorEls=null}},renderSelection:function(bz){if(this.view.opt("selectHelper")){this.renderEventLocationHelper(bz)}else{this.renderHighlight(bz)}},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderHighlight:function(bz){this.renderHighlightSegs(this.spanToSegs(bz))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});k.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var bB="";var bz;var bA;for(bz=0;bz<this.colCnt;bz++){bB+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}bA=a8('<div class="fc-content-skeleton"><table><tr>'+bB+"</tr></table></div>");this.colContainerEls=bA.find(".fc-content-col");this.helperContainerEls=bA.find(".fc-helper-container");this.fgContainerEls=bA.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=bA.find(".fc-bgevent-container");this.highlightContainerEls=bA.find(".fc-highlight-container");this.businessContainerEls=bA.find(".fc-business-container");this.bookendCells(bA.find("tr"));this.el.append(bA)},renderFgSegs:function(bz){bz=this.renderFgSegsIntoContainers(bz,this.fgContainerEls);this.fgSegs=bz;return bz},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(bA,bC){var bD,bz;var bB;bA=this.renderFgSegsIntoContainers(bA,this.helperContainerEls);for(bD=0;bD<bA.length;bD++){bz=bA[bD];if(bC&&bC.col===bz.col){bB=bC.el;bz.el.css({left:bB.css("left"),right:bB.css("right"),"margin-left":bB.css("margin-left"),"margin-right":bB.css("margin-right")})}}this.helperSegs=bA},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(bz){bz=this.renderFillSegEls("bgEvent",bz);this.updateSegVerticals(bz);this.attachSegsByCol(this.groupSegsByCol(bz),this.bgContainerEls);this.bgSegs=bz;return bz},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(bz){bz=this.renderFillSegEls("highlight",bz);this.updateSegVerticals(bz);this.attachSegsByCol(this.groupSegsByCol(bz),this.highlightContainerEls);this.highlightSegs=bz},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(bz){bz=this.renderFillSegEls("businessHours",bz);this.updateSegVerticals(bz);this.attachSegsByCol(this.groupSegsByCol(bz),this.businessContainerEls);this.businessSegs=bz},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(bz){var bB=[];var bA;for(bA=0;bA<this.colCnt;bA++){bB.push([])}for(bA=0;bA<bz.length;bA++){bB[bz[bA].col].push(bz[bA])}return bB},attachSegsByCol:function(bD,bC){var bA;var bz;var bB;for(bA=0;bA<this.colCnt;bA++){bz=bD[bA];for(bB=0;bB<bz.length;bB++){bC.eq(bA).append(bz[bB].el)}}},unrenderNamedSegs:function(bB){var bz=this[bB];var bA;if(bz){for(bA=0;bA<bz.length;bA++){bz[bA].el.remove()}this[bB]=null}},renderFgSegsIntoContainers:function(bz,bB){var bC;var bA;bz=this.renderFgSegEls(bz);bC=this.groupSegsByCol(bz);for(bA=0;bA<this.colCnt;bA++){this.updateFgSegCoords(bC[bA])}this.attachSegsByCol(bC,bB);return bz},fgSegHtml:function(bH,bB){var bJ=this.view;var bA=bH.event;var bz=bJ.isEventDraggable(bA);var bF=!bB&&bH.isStart&&bJ.isEventResizableFromStart(bA);var bE=!bB&&bH.isEnd&&bJ.isEventResizableFromEnd(bA);var bG=this.getSegClasses(bH,bz,bF||bE);var bK=aM(this.getSegSkinCss(bH));var bD;var bI;var bC;bG.unshift("fc-time-grid-event","fc-v-event");if(bJ.isMultiDayEvent(bA)){if(bH.isStart||bH.isEnd){bD=this.getEventTimeText(bH);bI=this.getEventTimeText(bH,"LT");bC=this.getEventTimeText(bH,null,false)}}else{bD=this.getEventTimeText(bA);bI=this.getEventTimeText(bA,"LT");bC=this.getEventTimeText(bA,null,false)}return'<a class="'+bG.join(" ")+'"'+(bA.url?' href="'+bt(bA.url)+'"':"")+(bK?' style="'+bK+'"':"")+'><div class="fc-content">'+(bD?'<div class="fc-time" data-start="'+bt(bC)+'" data-full="'+bt(bI)+'"><span>'+bt(bD)+"</span></div>":"")+(bA.title?'<div class="fc-title">'+bt(bA.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(bE?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(bz){this.computeSegVerticals(bz);this.assignSegVerticals(bz)},computeSegVerticals:function(bA){var bB,bz;for(bB=0;bB<bA.length;bB++){bz=bA[bB];bz.top=this.computeDateTop(bz.start,bz.start);bz.bottom=this.computeDateTop(bz.end,bz.start)}},assignSegVerticals:function(bA){var bB,bz;for(bB=0;bB<bA.length;bB++){bz=bA[bB];bz.el.css(this.generateSegVerticalCss(bz))}},generateSegVerticalCss:function(bz){return{top:bz.top,bottom:-bz.bottom}},updateFgSegCoords:function(bz){this.computeSegVerticals(bz);this.computeFgSegHorizontals(bz);this.assignSegVerticals(bz);this.assignFgSegHorizontals(bz)},computeFgSegHorizontals:function(bz){var bB;var bC;var bA;this.sortEventSegs(bz);bB=T(bz);aE(bB);if((bC=bB[0])){for(bA=0;bA<bC.length;bA++){aP(bC[bA])}for(bA=0;bA<bC.length;bA++){this.computeFgSegForwardBack(bC[bA],0,0)}}},computeFgSegForwardBack:function(bA,bC,bD){var bz=bA.forwardSegs;var bB;if(bA.forwardCoord===undefined){if(!bz.length){bA.forwardCoord=1}else{this.sortForwardSegs(bz);this.computeFgSegForwardBack(bz[0],bC+1,bD);bA.forwardCoord=bz[0].backwardCoord}bA.backwardCoord=bA.forwardCoord-(bA.forwardCoord-bD)/(bC+1);for(bB=0;bB<bz.length;bB++){this.computeFgSegForwardBack(bz[bB],0,bA.forwardCoord)}}},sortForwardSegs:function(bz){bz.sort(J(this,"compareForwardSegs"))},compareForwardSegs:function(bA,bz){return bz.forwardPressure-bA.forwardPressure||(bA.backwardCoord||0)-(bz.backwardCoord||0)||this.compareEventSegs(bA,bz)},assignFgSegHorizontals:function(bA){var bB,bz;for(bB=0;bB<bA.length;bB++){bz=bA[bB];bz.el.css(this.generateFgSegHorizontalCss(bz));if(bz.bottom-bz.top<30){bz.el.addClass("fc-short")}}},generateFgSegHorizontalCss:function(bz){var bC=this.view.opt("slotEventOverlap");var bA=bz.backwardCoord;var bB=bz.forwardCoord;var bE=this.generateSegVerticalCss(bz);var bF;var bD;if(bC){bB=Math.min(1,bA+(bB-bA)*2)}if(this.isRTL){bF=1-bB;bD=bA}else{bF=bA;bD=1-bB}bE.zIndex=bz.level+1;bE.left=bF*100+"%";bE.right=bD*100+"%";if(bC&&bz.forwardPressure){bE[this.isRTL?"marginLeft":"marginRight"]=10*2}return bE}});function T(bA){var bD=[];var bC,bz;var bB;for(bC=0;bC<bA.length;bC++){bz=bA[bC];for(bB=0;bB<bD.length;bB++){if(!bx(bz,bD[bB]).length){break}}bz.level=bB;(bD[bB]||(bD[bB]=[])).push(bz)}return bD}function aE(bD){var bC,bE;var bB,bz;var bA;for(bC=0;bC<bD.length;bC++){bE=bD[bC];for(bB=0;bB<bE.length;bB++){bz=bE[bB];bz.forwardSegs=[];for(bA=bC+1;bA<bD.length;bA++){bx(bz,bD[bA],bz.forwardSegs)}}}}function aP(bA){var bz=bA.forwardSegs;var bD=0;var bC,bB;if(bA.forwardPressure===undefined){for(bC=0;bC<bz.length;bC++){bB=bz[bC];aP(bB);bD=Math.max(bD,1+bB.forwardPressure)}bA.forwardPressure=bD}}function bx(bz,bC,bB){bB=bB||[];for(var bA=0;bA<bC.length;bA++){if(j(bz,bC[bA])){bB.push(bC[bA])}}return bB}function j(bA,bz){return bA.bottom>bz.top&&bA.top<bz.bottom}var bq=L.View=bg.extend({type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:false,isEventsRendered:false,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:false,isSelected:false,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(bC,bB,bz,bA){this.calendar=bC;this.type=this.name=bB;this.options=bz;this.intervalDuration=bA||O.duration(1,"day");this.nextDayThreshold=O.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=a0(this.opt("eventOrder"));this.documentMousedownProxy=J(this,"documentMousedown");this.initialize()},initialize:function(){},opt:function(bz){return this.options[bz]},trigger:function(bz,bB){var bA=this.calendar;return bA.trigger.apply(bA,[bz,bB||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(bz){this.setRange(this.computeRange(bz))},setRange:function(bz){a8.extend(this,bz);this.updateTitle()},computeRange:function(bB){var bE=ac(this.intervalDuration);var bC=bB.clone().startOf(bE);var bA=bC.clone().add(this.intervalDuration);var bD,bz;if(/year|month|week|day/.test(bE)){bC.stripTime();bA.stripTime()}else{if(!bC.hasTime()){bC=this.calendar.time(0)}if(!bA.hasTime()){bA=this.calendar.time(0)}}bD=bC.clone();bD=this.skipHiddenDays(bD);bz=bA.clone();bz=this.skipHiddenDays(bz,-1,true);return{intervalUnit:bE,intervalStart:bC,intervalEnd:bA,start:bD,end:bz}},computePrevDate:function(bz){return this.massageCurrentDate(bz.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(bz){return this.massageCurrentDate(bz.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(bz,bA){if(this.intervalDuration.as("days")<=1){if(this.isHiddenDay(bz)){bz=this.skipHiddenDays(bz,bA);bz.startOf("day")}}return bz},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){if(this.intervalUnit=="year"){return"YYYY"}else{if(this.intervalUnit=="month"){return this.opt("monthYearFormat")}else{if(this.intervalDuration.as("days")>1){return"ll"}else{return"LL"}}}},formatRange:function(bB,bA,bC){var bz=bB.end;if(!bz.hasTime()){bz=bz.clone().subtract(1)}return ag(bB.start,bz,bA,bC,this.opt("isRTL"))},setElement:function(bz){this.el=bz;this.bindGlobalHandlers()},removeElement:function(){this.clear();if(this.isSkeletonRendered){this.unrenderSkeleton();this.isSkeletonRendered=false}this.unbindGlobalHandlers();this.el.remove()},display:function(bz){var bB=this;var bA=null;if(this.displaying){bA=this.queryScroll()}this.calendar.freezeContentHeight();return this.clear().then(function(){return(bB.displaying=a8.when(bB.displayView(bz)).then(function(){bB.forceScroll(bB.computeInitialScroll(bA));bB.calendar.unfreezeContentHeight();bB.triggerRender()}))})},clear:function(){var bA=this;var bz=this.displaying;if(bz){return bz.then(function(){bA.displaying=null;bA.clearEvents();return bA.clearView()})}else{return a8.when()}},displayView:function(bz){if(!this.isSkeletonRendered){this.renderSkeleton();this.isSkeletonRendered=true}if(bz){this.setDate(bz)}if(this.render){this.render()}this.renderDates();this.updateSize();this.renderBusinessHours();this.startNowIndicator()},clearView:function(){this.unselect();this.stopNowIndicator();this.triggerUnrender();this.unrenderBusinessHours();this.unrenderDates();if(this.destroy){this.destroy()}},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){a8(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){a8(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var bz=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=bz+"-widget-header";this.widgetContentClass=bz+"-widget-content";this.highlightStateClass=bz+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var bC=this;var bA;var bB;var bz;if(this.opt("nowIndicator")){bA=this.getNowIndicatorUnit();if(bA){bB=J(this,"updateNowIndicator");this.initialNowDate=this.calendar.getNow();this.initialNowQueriedMs=+new Date();this.renderNowIndicator(this.initialNowDate);this.isNowIndicatorRendered=true;bz=this.initialNowDate.clone().startOf(bA).add(1,bA)-this.initialNowDate;this.nowIndicatorTimeoutID=setTimeout(function(){bC.nowIndicatorTimeoutID=null;bB();bz=+O.duration(1,bA);bz=Math.max(100,bz);bC.nowIndicatorIntervalID=setInterval(bB,bz)},bz)}}},updateNowIndicator:function(){if(this.isNowIndicatorRendered){this.unrenderNowIndicator();this.renderNowIndicator(this.initialNowDate.clone().add(new Date()-this.initialNowQueriedMs))}},stopNowIndicator:function(){if(this.isNowIndicatorRendered){if(this.nowIndicatorTimeoutID){clearTimeout(this.nowIndicatorTimeoutID);this.nowIndicatorTimeoutID=null}if(this.nowIndicatorIntervalID){clearTimeout(this.nowIndicatorIntervalID);this.nowIndicatorIntervalID=null}this.unrenderNowIndicator();this.isNowIndicatorRendered=false}},getNowIndicatorUnit:function(){},renderNowIndicator:function(bz){},unrenderNowIndicator:function(){},updateSize:function(bz){var bA;if(bz){bA=this.queryScroll()}this.updateHeight(bz);this.updateWidth(bz);this.updateNowIndicator();if(bz){this.setScroll(bA)}},updateWidth:function(bz){},updateHeight:function(bz){var bA=this.calendar;this.setHeight(bA.getSuggestedViewHeight(),bA.isHeightAuto())},setHeight:function(bA,bz){},computeScrollerHeight:function(bA){var bz=this.scrollerEl;var bC;var bB;bC=this.el.add(bz);bC.css({position:"relative",left:-1});bB=this.el.outerHeight()-bz.height();bC.css({position:"",left:""});return bA-bB},computeInitialScroll:function(bz){return 0},queryScroll:function(){if(this.scrollerEl){return this.scrollerEl.scrollTop()}},setScroll:function(bz){if(this.scrollerEl){return this.scrollerEl.scrollTop(bz)}},forceScroll:function(bz){var bA=this;this.setScroll(bz);setTimeout(function(){bA.setScroll(bz)},0)},displayEvents:function(bz){var bA=this.queryScroll();this.clearEvents();this.renderEvents(bz);this.isEventsRendered=true;this.setScroll(bA);this.triggerEventRender()},clearEvents:function(){var bz;if(this.isEventsRendered){bz=this.queryScroll();this.triggerEventUnrender();if(this.destroyEvents){this.destroyEvents()}this.unrenderEvents();this.setScroll(bz);this.isEventsRendered=false}},renderEvents:function(bz){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(bz){this.trigger("eventAfterRender",bz.event,bz.event,bz.el)});this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(bz){this.trigger("eventDestroy",bz.event,bz.event,bz.el)})},resolveEventEl:function(bA,bz){var bB=this.trigger("eventRender",bA,bA,bz);if(bB===false){bz=null}else{if(bB&&bB!==true){bz=a8(bB)}}return bz},showEvent:function(bz){this.renderedEventSegEach(function(bA){bA.el.css("visibility","")},bz)},hideEvent:function(bz){this.renderedEventSegEach(function(bA){bA.el.css("visibility","hidden")},bz)},renderedEventSegEach:function(bC,bB){var bz=this.getEventSegs();var bA;for(bA=0;bA<bz.length;bA++){if(!bB||bz[bA].event._id===bB._id){if(bz[bA].el){bC.call(this,bz[bA])}}}},getEventSegs:function(){return[]},isEventDraggable:function(bz){var bA=bz.source||{};return bv(bz.startEditable,bA.startEditable,this.opt("eventStartEditable"),bz.editable,bA.editable,this.opt("editable"))},reportEventDrop:function(bE,bD,bB,bA,bC){var bG=this.calendar;var bF=bG.mutateEvent(bE,bD,bB);var bz=function(){bF.undo();bG.reportEventChange()};this.triggerEventDrop(bE,bF.dateDelta,bz,bA,bC);bG.reportEventChange()},triggerEventDrop:function(bC,bD,bz,bA,bB){this.trigger("eventDrop",bA[0],bC,bD,bz,bB,{})},reportExternalDrop:function(bG,bD,bA,bC,bF){var bE=bG.eventProps;var bz;var bB;if(bE){bz=a8.extend({},bE,bD);bB=this.calendar.renderEvent(bz,bG.stick)[0]}this.triggerExternalDrop(bB,bD,bA,bC,bF)},triggerExternalDrop:function(bC,bB,bz,bA,bD){this.trigger("drop",bz[0],bB.start,bA,bD);if(bC){this.trigger("eventReceive",null,bC)}},renderDrag:function(bA,bz){},unrenderDrag:function(){},isEventResizableFromStart:function(bz){return this.opt("eventResizableFromStart")&&this.isEventResizable(bz)},isEventResizableFromEnd:function(bz){return this.isEventResizable(bz)},isEventResizable:function(bz){var bA=bz.source||{};return bv(bz.durationEditable,bA.durationEditable,this.opt("eventDurationEditable"),bz.editable,bA.editable,this.opt("editable"))},reportEventResize:function(bD,bG,bB,bA,bC){var bF=this.calendar;var bE=bF.mutateEvent(bD,bG,bB);var bz=function(){bE.undo();bF.reportEventChange()};this.triggerEventResize(bD,bE.durationDelta,bz,bA,bC);bF.reportEventChange()},triggerEventResize:function(bD,bA,bz,bB,bC){this.trigger("eventResize",bB[0],bD,bA,bz,bC,{})},select:function(bz,bA){this.unselect(bA);this.renderSelection(bz);this.reportSelection(bz,bA)},renderSelection:function(bz){},reportSelection:function(bz,bA){this.isSelected=true;this.triggerSelect(bz,bA)},triggerSelect:function(bz,bA){this.trigger("select",null,this.calendar.applyTimezone(bz.start),this.calendar.applyTimezone(bz.end),bA)},unselect:function(bz){if(this.isSelected){this.isSelected=false;if(this.destroySelection){this.destroySelection()}this.unrenderSelection();this.trigger("unselect",null,bz)}},unrenderSelection:function(){},documentMousedown:function(bz){var bA;if(this.isSelected&&this.opt("unselectAuto")&&an(bz)){bA=this.opt("unselectCancel");if(!bA||!a8(bz.target).closest(bA).length){this.unselect(bz)}}},triggerDayClick:function(bz,bB,bA){this.trigger("dayClick",bB,this.calendar.applyTimezone(bz.start),bA)},initHiddenDays:function(){var bA=this.opt("hiddenDays")||[];var bC=[];var bz=0;var bB;if(this.opt("weekends")===false){bA.push(0,6)}for(bB=0;bB<7;bB++){if(!(bC[bB]=a8.inArray(bB,bA)!==-1)){bz++}}if(!bz){throw"invalid hiddenDays"}this.isHiddenDayHash=bC},isHiddenDay:function(bz){if(O.isMoment(bz)){bz=bz.day()}return this.isHiddenDayHash[bz]},skipHiddenDays:function(bB,bC,bz){var bA=bB.clone();bC=bC||1;while(this.isHiddenDayHash[(bA.day()+(bz?bC:0)+7)%7]){bA.add(bC,"days")}return bA},computeDayRange:function(bA){var bD=bA.start.clone().stripTime();var bz=bA.end;var bC=null;var bB;if(bz){bC=bz.clone().stripTime();bB=+bz.time();if(bB&&bB>=this.nextDayThreshold){bC.add(1,"days")}}if(!bz||bC<=bD){bC=bD.clone().add(1,"days")}return{start:bD,end:bC}},isMultiDayEvent:function(bA){var bz=this.computeDayRange(bA);return bz.end.diff(bz.start,"days")>1}});var A=L.Calendar=bg.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:bb,initialize:function(){},initOptions:function(bD){var bC,bz;var bA,bB;bD=bd(bD);bC=bD.lang;bz=ba[bC];if(!bz){bC=A.defaults.lang;bz=ba[bC]||{}}bA=bv(bD.isRTL,bz.isRTL,A.defaults.isRTL);bB=bA?A.rtlDefaults:{};this.dirDefaults=bB;this.langDefaults=bz;this.overrides=bD;this.options=bk([A.defaults,bB,bz,bD]);aG(this.options);this.viewSpecCache={}},getViewSpec:function(bz){var bA=this.viewSpecCache;return bA[bz]||(bA[bz]=this.buildViewSpec(bz))},getUnitViewSpec:function(bC){var bB;var bA;var bz;if(a8.inArray(bC,m)!=-1){bB=this.header.getViewsWithButtons();a8.each(L.views,function(bD){bB.push(bD)});for(bA=0;bA<bB.length;bA++){bz=this.getViewSpec(bB[bA]);if(bz){if(bz.singleUnit==bC){return bz}}}}},buildViewSpec:function(bB){var bE=this.overrides.views||{};var bD=[];var bI=[];var bz=[];var bC=bB;var bH;var bG;var bA;var bF;while(bC){bH=aU[bC];bG=bE[bC];bC=null;if(typeof bH==="function"){bH={"class":bH}}if(bH){bD.unshift(bH);bI.unshift(bH.defaults||{});bA=bA||bH.duration;bC=bC||bH.type}if(bG){bz.unshift(bG);bA=bA||bG.duration;bC=bC||bG.type}}bH=y(bD);bH.type=bB;if(!bH["class"]){return false}if(bA){bA=O.duration(bA);if(bA.valueOf()){bH.duration=bA;bF=ac(bA);if(bA.as(bF)===1){bH.singleUnit=bF;bz.unshift(bE[bF]||{})}}}bH.defaults=bk(bI);bH.overrides=bk(bz);this.buildViewSpecOptions(bH);this.buildViewSpecButtonText(bH,bB);return bH},buildViewSpecOptions:function(bz){bz.options=bk([A.defaults,bz.defaults,this.dirDefaults,this.langDefaults,this.overrides,bz.overrides]);aG(bz.options)},buildViewSpecButtonText:function(bA,bB){function bz(bC){var bD=bC.buttonText||{};return bD[bB]||(bA.singleUnit?bD[bA.singleUnit]:null)}bA.buttonTextOverride=bz(this.overrides)||bA.overrides.buttonText;bA.buttonTextDefault=bz(this.langDefaults)||bz(this.dirDefaults)||bA.defaults.buttonText||bz(A.defaults)||(bA.duration?this.humanizeDuration(bA.duration):null)||bB},instantiateView:function(bz){var bA=this.getViewSpec(bz);return new bA["class"](this,bz,bA.options,bA.duration)},isValidViewType:function(bz){return Boolean(this.getViewSpec(bz))},pushLoading:function(){if(!(this.loadingLevel++)){this.trigger("loading",null,true,this.view)}},popLoading:function(){if(!(--this.loadingLevel)){this.trigger("loading",null,false,this.view)}},buildSelectSpan:function(bA,bB){var bC=this.moment(bA).stripZone();var bz;if(bB){bz=this.moment(bB).stripZone()}else{if(bC.hasTime()){bz=bC.clone().add(this.defaultTimedEventDuration)}else{bz=bC.clone().add(this.defaultAllDayEventDuration)}}return{start:bC,end:bz}}});A.mixin(C);function bb(bQ,cg){var ci=this;ci.initOptions(cg||{});var bX=this.options;ci.render=b6;ci.destroy=ck;ci.refetchEvents=bM;ci.reportEvents=bO;ci.reportEventChange=cm;ci.rerenderEvents=bG;ci.changeView=bW;ci.select=cj;ci.unselect=bJ;ci.prev=b3;ci.next=bC;ci.prevYear=cl;ci.nextYear=bA;ci.today=bR;ci.gotoDate=b5;ci.incrementDate=bU;ci.zoomTo=cq;ci.getDate=bV;ci.getCalendar=ca;ci.getView=b1;ci.option=cd;ci.trigger=b4;var b8=ak(ap(bX.lang));if(bX.monthNames){b8._months=bX.monthNames}if(bX.monthNamesShort){b8._monthsShort=bX.monthNamesShort}if(bX.dayNames){b8._weekdays=bX.dayNames}if(bX.dayNamesShort){b8._weekdaysShort=bX.dayNamesShort}if(bX.firstDay!=null){var bB=ak(b8._week);bB.dow=bX.firstDay;b8._week=bB}b8._fullCalendar_weekCalc=(function(cs){if(typeof cs==="function"){return cs}else{if(cs==="local"){return cs}else{if(cs==="iso"||cs==="ISO"){return"ISO"}}}})(bX.weekNumberCalculation);ci.defaultAllDayEventDuration=O.duration(bX.defaultAllDayEventDuration);ci.defaultTimedEventDuration=O.duration(bX.defaultTimedEventDuration);ci.moment=function(){var cs;if(bX.timezone==="local"){cs=L.moment.apply(null,arguments);if(cs.hasTime()){cs.local()}}else{if(bX.timezone==="UTC"){cs=L.moment.utc.apply(null,arguments)}else{cs=L.moment.parseZone.apply(null,arguments)}}if("_locale" in cs){cs._locale=b8}else{cs._lang=b8}return cs};ci.getIsAmbigTimezone=function(){return bX.timezone!=="local"&&bX.timezone!=="UTC"};ci.applyTimezone=function(cs){if(!cs.hasTime()){return cs.clone()}var ct=ci.moment(cs.toArray());var cv=cs.time()-ct.time();var cu;if(cv){cu=ct.clone().add(cv);if(cs.time()-cu.time()===0){ct=cu}}return ct};ci.getNow=function(){var cs=bX.now;if(typeof cs==="function"){cs=cs()}return ci.moment(cs).stripZone()};ci.getEventEnd=function(cs){if(cs.end){return cs.end.clone()}else{return ci.getDefaultEventEnd(cs.allDay,cs.start)}};ci.getDefaultEventEnd=function(ct,cu){var cs=cu.clone();if(ct){cs.stripTime().add(ci.defaultAllDayEventDuration)}else{cs.add(ci.defaultTimedEventDuration)}if(ci.getIsAmbigTimezone()){cs.stripZone()}return cs};ci.humanizeDuration=function(cs){return(cs.locale||cs.lang).call(cs,bX.lang).humanize()};z.call(ci,bX);var bz=ci.isFetchNeeded;var cp=ci.fetchEvents;var ce=bQ[0];var bE;var b7;var bL;var cr;var bK;var ch={};var bH;var co;var cf=0;var bZ=[];var cn;if(bX.defaultDate!=null){cn=ci.moment(bX.defaultDate).stripZone()}else{cn=ci.getNow()}function b6(){if(!bL){bY()}else{if(cc()){b9();bW()}}}function bY(){cr=bX.theme?"ui":"fc";bQ.addClass("fc");if(bX.isRTL){bQ.addClass("fc-rtl")}else{bQ.addClass("fc-ltr")}if(bX.theme){bQ.addClass("ui-widget")}else{bQ.addClass("fc-unthemed")}bL=a8("<div class='fc-view-container'/>").prependTo(bQ);bE=ci.header=new av(ci,bX);b7=bE.render();if(b7){bQ.prepend(b7)}bW(bX.defaultView);if(bX.handleWindowResize){co=by(bN,bX.windowResizeDelay);a8(window).resize(co)}}function ck(){if(bK){bK.removeElement()}bE.removeElement();bL.remove();bQ.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");if(co){a8(window).unbind("resize",co)}}function cc(){return bQ.is(":visible")}function bW(cs){cf++;if(bK&&cs&&bK.type!==cs){bE.deactivateButton(bK.type);bD();bK.removeElement();bK=ci.view=null}if(!bK&&cs){bK=ci.view=ch[cs]||(ch[cs]=ci.instantiateView(cs));bK.setElement(a8("<div class='fc-view fc-"+cs+"-view' />").appendTo(bL));bE.activateButton(cs)}if(bK){cn=bK.massageCurrentDate(cn);if(!bK.displaying||!cn.isWithin(bK.intervalStart,bK.intervalEnd)){if(cc()){bK.display(cn);bP();b0();b2();bI()}}}bP();cf--}ci.getSuggestedViewHeight=function(){if(bH===undefined){b9()}return bH};ci.isHeightAuto=function(){return bX.contentHeight==="auto"||bX.height==="auto"};function bS(cs){if(cc()){if(cs){bF()}cf++;bK.updateSize(true);cf--;return true}}function b9(){if(cc()){bF()}}function bF(){if(typeof bX.contentHeight==="number"){bH=bX.contentHeight}else{if(typeof bX.height==="number"){bH=bX.height-(b7?b7.outerHeight(true):0)}else{bH=Math.round(bL.width()/Math.max(bX.aspectRatio,0.5))}}}function bN(cs){if(!cf&&cs.target===window&&bK.start){if(bS(true)){bK.trigger("windowResize",ce)}}}function bM(){bT();cb()}function bG(){if(cc()){bD();bK.displayEvents(bZ);bP()}}function bT(){bD();bK.clearEvents();bP()}function bI(){if(!bX.lazyFetching||bz(bK.start,bK.end)){cb()}else{bG()}}function cb(){cp(bK.start,bK.end)}function bO(cs){bZ=cs;bG()}function cm(){bG()}function b0(){bE.updateTitle(bK.title)}function b2(){var cs=ci.getNow();if(cs.isWithin(bK.intervalStart,bK.intervalEnd)){bE.disableButton("today")}else{bE.enableButton("today")}}function cj(cs,ct){bK.select(ci.buildSelectSpan.apply(ci,arguments))}function bJ(){if(bK){bK.unselect()}}function b3(){cn=bK.computePrevDate(cn);bW()}function bC(){cn=bK.computeNextDate(cn);bW()}function cl(){cn.add(-1,"years");bW()}function bA(){cn.add(1,"years");bW()}function bR(){cn=ci.getNow();bW()}function b5(cs){cn=ci.moment(cs).stripZone();bW()}function bU(cs){cn.add(O.duration(cs));bW()}function cq(ct,cs){var cu;cs=cs||"day";cu=ci.getViewSpec(cs)||ci.getUnitViewSpec(cs);cn=ct.clone();bW(cu?cu.type:null)}function bV(){return ci.applyTimezone(cn)}ci.freezeContentHeight=bD;ci.unfreezeContentHeight=bP;function bD(){bL.css({width:"100%",height:bL.height(),overflow:"hidden"})}function bP(){bL.css({width:"",height:"",overflow:""})}function ca(){return ci}function b1(){return bK}function cd(cs,ct){if(ct===undefined){return bX[cs]}if(cs=="height"||cs=="contentHeight"||cs=="aspectRatio"){bX[cs]=ct;bS(true)}}function b4(ct,cu){var cs=Array.prototype.slice.call(arguments,2);cu=cu||ce;this.triggerWith(ct,cu,cs);if(bX[ct]){return bX[ct].apply(cu,cs)}}ci.initialize()}A.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,isRTL:false,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:false,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:0.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventOrder:"title",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:200};A.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};A.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var ba=L.langs={};L.datepickerLang=function(bC,bA,bB){var bz=ba[bC]||(ba[bC]={});bz.isRTL=bB.isRTL;bz.weekNumberTitle=bB.weekHeader;a8.each(au,function(bD,bE){bz[bD]=bE(bB)});if(a8.datepicker){a8.datepicker.regional[bA]=a8.datepicker.regional[bC]=bB;a8.datepicker.regional.en=a8.datepicker.regional[""];a8.datepicker.setDefaults(bB)}};L.lang=function(bC,bB){var bz;var bA;bz=ba[bC]||(ba[bC]={});if(bB){bz=ba[bC]=bk([bz,bB])}bA=ap(bC);a8.each(s,function(bD,bE){if(bz[bD]==null){bz[bD]=bE(bA,bz)}});A.defaults.lang=bC};var au={buttonText:function(bz){return{prev:aw(bz.prevText),next:aw(bz.nextText),today:aw(bz.currentText)}},monthYearFormat:function(bz){return bz.showMonthAfterYear?"YYYY["+bz.yearSuffix+"] MMMM":"MMMM YYYY["+bz.yearSuffix+"]"}};var s={dayOfMonthFormat:function(bA,bz){var bB=bA.longDateFormat("l");bB=bB.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(bz.isRTL){bB+=" ddd"}else{bB="ddd "+bB}return bB},mediumTimeFormat:function(bz){return bz.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(bz){return bz.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(bz){return bz.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(bz){return bz.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(bz){return bz.longDateFormat("LT").replace(/\s*a$/i,"")}};var aj={smallDayDateFormat:function(bz){return bz.isRTL?"D dd":"dd D"},weekFormat:function(bz){return bz.isRTL?"w[ "+bz.weekNumberTitle+"]":"["+bz.weekNumberTitle+" ]w"},smallWeekFormat:function(bz){return bz.isRTL?"w["+bz.weekNumberTitle+"]":"["+bz.weekNumberTitle+"]w"}};function aG(bz){a8.each(aj,function(bA,bB){if(bz[bA]==null){bz[bA]=bB(bz)}})}function ap(bA){var bz=O.localeData||O.langData;return bz.call(O,bA)||bz.call(O,"en")}L.lang("en",A.englishDefaults);function av(bE,bN){var bM=this;bM.render=bA;bM.removeElement=bH;bM.updateTitle=bF;bM.activateButton=bz;bM.deactivateButton=bK;bM.disableButton=bD;bM.enableButton=bG;bM.getViewsWithButtons=bC;var bB=a8();var bI=[];var bJ;function bA(){var bO=bN.header;bJ=bN.theme?"ui":"fc";if(bO){bB=a8("<div class='fc-toolbar'/>").append(bL("left")).append(bL("right")).append(bL("center")).append('<div class="fc-clear"/>');return bB}}function bH(){bB.remove();bB=a8()}function bL(bO){var bP=a8('<div class="fc-'+bO+'"/>');var bQ=bN.header[bO];if(bQ){a8.each(bQ.split(" "),function(bR){var bS=a8();var bT=true;var bU;a8.each(this.split(","),function(bZ,b6){var b5;var b2;var b1;var b4;var b3;var bW;var bY;var bV;var bX;var b0;if(b6=="title"){bS=bS.add(a8("<h2>&nbsp;</h2>"));bT=false}else{if((b5=(bE.options.customButtons||{})[b6])){b1=function(b7){if(b5.click){b5.click.call(b0[0],b7)}};b4="";b3=b5.text}else{if((b2=bE.getViewSpec(b6))){b1=function(){bE.changeView(b6)};bI.push(b6);b4=b2.buttonTextOverride;b3=b2.buttonTextDefault}else{if(bE[b6]){b1=function(){bE[b6]()};b4=(bE.overrides.buttonText||{})[b6];b3=bN.buttonText[b6]}}}if(b1){bW=b5?b5.themeIcon:bN.themeButtonIcons[b6];bY=b5?b5.icon:bN.buttonIcons[b6];if(b4){bV=bt(b4)}else{if(bW&&bN.theme){bV="<span class='ui-icon ui-icon-"+bW+"'></span>"}else{if(bY&&!bN.theme){bV="<span class='fc-icon fc-icon-"+bY+"'></span>"}else{bV=bt(b3)}}}bX=["fc-"+b6+"-button",bJ+"-button",bJ+"-state-default"];b0=a8('<button type="button" class="'+bX.join(" ")+'">'+bV+"</button>").click(function(b7){if(!b0.hasClass(bJ+"-state-disabled")){b1(b7);if(b0.hasClass(bJ+"-state-active")||b0.hasClass(bJ+"-state-disabled")){b0.removeClass(bJ+"-state-hover")}}}).mousedown(function(){b0.not("."+bJ+"-state-active").not("."+bJ+"-state-disabled").addClass(bJ+"-state-down")}).mouseup(function(){b0.removeClass(bJ+"-state-down")}).hover(function(){b0.not("."+bJ+"-state-active").not("."+bJ+"-state-disabled").addClass(bJ+"-state-hover")},function(){b0.removeClass(bJ+"-state-hover").removeClass(bJ+"-state-down")});bS=bS.add(b0)}}});if(bT){bS.first().addClass(bJ+"-corner-left").end().last().addClass(bJ+"-corner-right").end()}if(bS.length>1){bU=a8("<div/>");if(bT){bU.addClass("fc-button-group")}bU.append(bS);bP.append(bU)}else{bP.append(bS)}})}return bP}function bF(bO){bB.find("h2").text(bO)}function bz(bO){bB.find(".fc-"+bO+"-button").addClass(bJ+"-state-active")}function bK(bO){bB.find(".fc-"+bO+"-button").removeClass(bJ+"-state-active")}function bD(bO){bB.find(".fc-"+bO+"-button").attr("disabled","disabled").addClass(bJ+"-state-disabled")}function bG(bO){bB.find(".fc-"+bO+"-button").removeAttr("disabled").removeClass(bJ+"-state-disabled")}function bC(){return bI}}L.sourceNormalizers=[];L.sourceFetchers=[];var w={dataType:"json",cache:false};var aC=1;function z(bX){var b6=this;b6.isFetchNeeded=bz;b6.fetchEvents=b9;b6.addEventSource=bI;b6.removeEventSource=bD;b6.updateEvent=b2;b6.renderEvent=bR;b6.removeEvents=b7;b6.clientEvents=bK;b6.mutateEvent=bA;b6.normalizeEventDates=bY;b6.normalizeEventTimes=bH;var bO=b6.reportEvents;var bF={events:[]};var b3=[bF];var bL,bP;var ca=0;var bU=0;var bN=[];a8.each((bX.events?[bX.events]:[]).concat(bX.eventSources||[]),function(cd,cf){var ce=bV(cf);if(ce){b3.push(ce)}});function bz(ce,cd){return !bL||ce<bL||cd>bP}function b9(ch,ce){bL=ch;bP=ce;bN=[];var cg=++ca;var cd=b3.length;bU=cd;for(var cf=0;cf<cd;cf++){bS(b3[cf],cg)}}function bS(ce,cd){bG(ce,function(cj){var ci=a8.isArray(ce.events);var ch,cg;var cf;if(cd==ca){if(cj){for(ch=0;ch<cj.length;ch++){cg=cj[ch];if(ci){cf=cg}else{cf=bE(cg,ce)}if(cf){bN.push.apply(bN,cc(cf))}}}bU--;if(!bU){bO(bN)}}})}function bG(cd,co){var ci;var cm=L.sourceFetchers;var ck;for(ci=0;ci<cm.length;ci++){ck=cm[ci].call(b6,cd,bL.clone(),bP.clone(),bX.timezone,co);if(ck===true){return}else{if(typeof ck=="object"){bG(ck,co);return}}}var cq=cd.events;if(cq){if(a8.isFunction(cq)){b6.pushLoading();cq.call(b6,bL.clone(),bP.clone(),bX.timezone,function(cs){co(cs);b6.popLoading()})}else{if(a8.isArray(cq)){co(cq)}else{co()}}}else{var ce=cd.url;if(ce){var cp=cd.success;var cl=cd.error;var cf=cd.complete;var cr;if(a8.isFunction(cd.data)){cr=cd.data()}else{cr=cd.data}var ch=a8.extend({},cr||{});var cj=bv(cd.startParam,bX.startParam);var cg=bv(cd.endParam,bX.endParam);var cn=bv(cd.timezoneParam,bX.timezoneParam);if(cj){ch[cj]=bL.format()}if(cg){ch[cg]=bP.format()}if(bX.timezone&&bX.timezone!="local"){ch[cn]=bX.timezone}b6.pushLoading();a8.ajax(a8.extend({},w,cd,{data:ch,success:function(ct){ct=ct||[];var cs=ae(cp,this,arguments);if(a8.isArray(cs)){ct=cs}co(ct)},error:function(){ae(cl,this,arguments);co()},complete:function(){ae(cf,this,arguments);b6.popLoading()}}))}else{co()}}}function bI(ce){var cd=bV(ce);if(cd){b3.push(cd);bU++;bS(cd,ca)}}function bV(cg){var ce=L.sourceNormalizers;var cf;var cd;if(a8.isFunction(cg)||a8.isArray(cg)){cf={events:cg}}else{if(typeof cg==="string"){cf={url:cg}}else{if(typeof cg==="object"){cf=a8.extend({},cg)}}}if(cf){if(cf.className){if(typeof cf.className==="string"){cf.className=cf.className.split(/\s+/)}}else{cf.className=[]}if(a8.isArray(cf.events)){cf.origArray=cf.events;cf.events=a8.map(cf.events,function(ch){return bE(ch,cf)})}for(cd=0;cd<ce.length;cd++){ce[cd].call(b6,cf)}return cf}}function bD(cd){b3=a8.grep(b3,function(ce){return !b5(ce,cd)});bN=a8.grep(bN,function(ce){return !b5(ce.source,cd)});bO(bN)}function b5(ce,cd){return ce&&cd&&bM(ce)==bM(cd)}function bM(cd){return((typeof cd==="object")?(cd.origArray||cd.googleCalendarId||cd.url||cd.events):null)||cd}function b2(cd){cd.start=b6.moment(cd.start);if(cd.end){cd.end=b6.moment(cd.end)}else{cd.end=null}bA(cd,bC(cd));bO(bN)}function bC(ce){var cd={};a8.each(ce,function(cf,cg){if(b4(cf)){if(cg!==undefined&&aY(cg)){cd[cf]=cg}}});return cd}function b4(cd){return !/^_|^(id|allDay|start|end)$/.test(cd)}function bR(ch,cd){var ce=bE(ch);var cg;var cf,ci;if(ce){cg=cc(ce);for(cf=0;cf<cg.length;cf++){ci=cg[cf];if(!ci.source){if(cd){bF.events.push(ci);ci.source=bF}bN.push(ci)}}bO(bN);return cg}return[]}function b7(cf){var ce;var cd;if(cf==null){cf=function(){return true}}else{if(!a8.isFunction(cf)){ce=cf+"";cf=function(cg){return cg._id==ce}}}bN=a8.grep(bN,cf,true);for(cd=0;cd<b3.length;cd++){if(a8.isArray(b3[cd].events)){b3[cd].events=a8.grep(b3[cd].events,cf,true)}}bO(bN)}function bK(cd){if(a8.isFunction(cd)){return a8.grep(bN,cd)}else{if(cd!=null){cd+="";return a8.grep(bN,function(ce){return ce._id==cd})}}return bN}function bE(ce,ch){var cf={};var ci,cd;var cg;if(bX.eventDataTransform){ce=bX.eventDataTransform(ce)}if(ch&&ch.eventDataTransform){ce=ch.eventDataTransform(ce)}a8.extend(cf,ce);if(ch){cf.source=ch}cf._id=ce._id||(ce.id===undefined?"_fc"+aC++:ce.id+"");if(ce.className){if(typeof ce.className=="string"){cf.className=ce.className.split(/\s+/)}else{cf.className=ce.className}}else{cf.className=[]}ci=ce.start||ce.date;cd=ce.end;if(Y(ci)){ci=O.duration(ci)}if(Y(cd)){cd=O.duration(cd)}if(ce.dow||O.isDuration(ci)||O.isDuration(cd)){cf.start=ci?O.duration(ci):null;cf.end=cd?O.duration(cd):null;cf._recurring=true}else{if(ci){ci=b6.moment(ci);if(!ci.isValid()){return false}}if(cd){cd=b6.moment(cd);if(!cd.isValid()){cd=null}}cg=ce.allDay;if(cg===undefined){cg=bv(ch?ch.allDayDefault:undefined,bX.allDayDefault)}bW(ci,cd,cg,cf)}return cf}function bW(cg,cd,cf,ce){ce.start=cg;ce.end=cd;ce.allDay=cf;bY(ce);aO(ce)}function bY(cd){bH(cd);if(cd.end&&!cd.end.isAfter(cd.start)){cd.end=null}if(!cd.end){if(bX.forceEventDuration){cd.end=b6.getDefaultEventEnd(cd.allDay,cd.start)}else{cd.end=null}}}function bH(cd){if(cd.allDay==null){cd.allDay=!(cd.start.hasTime()||(cd.end&&cd.end.hasTime()))}if(cd.allDay){cd.start.stripTime();if(cd.end){cd.end.stripTime()}}else{if(!cd.start.hasTime()){cd.start=b6.applyTimezone(cd.start.time(0))}if(cd.end&&!cd.end.hasTime()){cd.end=b6.applyTimezone(cd.end.time(0))}}}function cc(ck,cn,cg){var cp=[];var cm;var co;var cj;var ch;var cf,cl;var ce,ci;var cd;cn=cn||bL;cg=cg||bP;if(ck){if(ck._recurring){if((co=ck.dow)){cm={};for(cj=0;cj<co.length;cj++){cm[co[cj]]=true}}ch=cn.clone().stripTime();while(ch.isBefore(cg)){if(!cm||cm[ch.day()]){cf=ck.start;cl=ck.end;ce=ch.clone();ci=null;if(cf){ce=ce.time(cf)}if(cl){ci=ch.clone().time(cl)}cd=a8.extend({},ck);bW(ce,ci,!cf&&!cl,cd);cp.push(cd)}ch.add(1,"days")}}else{cp.push(ck)}}return cp}function bA(ce,cn,cf){var ci={};var cm;var cd;var cg;var cj;var cl;var ch;function ck(co,cp){if(cf){return o(co,cp,cf)}else{if(cn.allDay){return am(co,cp)}else{return F(co,cp)}}}cn=cn||{};if(!cn.start){cn.start=ce.start.clone()}if(cn.end===undefined){cn.end=ce.end?ce.end.clone():null}if(cn.allDay==null){cn.allDay=ce.allDay}bY(cn);cm={start:ce._start.clone(),end:ce._end?ce._end.clone():b6.getDefaultEventEnd(ce._allDay,ce._start),allDay:cn.allDay};bY(cm);cd=ce._end!==null&&cn.end===null;cg=ck(cn.start,cm.start);if(cn.end){cj=ck(cn.end,cm.end);cl=cj.subtract(cg)}else{cl=null}a8.each(cn,function(co,cp){if(b4(co)){if(cp!==undefined){ci[co]=cp}}});ch=bZ(bK(ce._id),cd,cn.allDay,cg,cl,ci);return{dateDelta:cg,durationDelta:cl,undo:ch}}function bZ(ch,ck,cj,ci,cf,cg){var ce=b6.getIsAmbigTimezone();var cd=[];if(ci&&!ci.valueOf()){ci=null}if(cf&&!cf.valueOf()){cf=null}a8.each(ch,function(cm,co){var cl;var cn;cl={start:co.start.clone(),end:co.end?co.end.clone():null,allDay:co.allDay};a8.each(cg,function(cp){cl[cp]=co[cp]});cn={start:co._start,end:co._end,allDay:cj};bY(cn);if(ck){cn.end=null}else{if(cf&&!cn.end){cn.end=b6.getDefaultEventEnd(cn.allDay,cn.start)}}if(ci){cn.start.add(ci);if(cn.end){cn.end.add(ci)}}if(cf){cn.end.add(cf)}if(ce&&!cn.allDay&&(ci||cf)){cn.start.stripZone();if(cn.end){cn.end.stripZone()}}a8.extend(co,cg,cn);aO(co);cd.push(function(){a8.extend(co,cl);aO(co)})});return function(){for(var cl=0;cl<cd.length;cl++){cd[cl]()}}}b6.getBusinessHoursEvents=bQ;function bQ(cd){var cg=bX.businessHours;var ch={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};var ce=b6.getView();var cf;if(cg){cf=a8.extend({},ch,typeof cg==="object"?cg:{})}if(cf){if(cd){cf.start=null;cf.end=null}return cc(bE(cf),ce.start,ce.end)}return[]}b6.isEventSpanAllowed=cb;b6.isExternalSpanAllowed=b0;b6.isSelectionSpanAllowed=bT;function cb(ce,cf){var cg=cf.source||{};var ch=bv(cf.constraint,cg.constraint,bX.eventConstraint);var cd=bv(cf.overlap,cg.overlap,bX.eventOverlap);return bB(ce,ch,cd,cf)}function b0(ce,ch,cg){var cd;var cf;if(cg){cd=a8.extend({},cg,ch);cf=cc(bE(cd))[0]}if(cf){return cb(ce,cf)}else{return bT(ce)}}function bT(cd){return bB(cd,bX.selectConstraint,bX.selectOverlap)}function bB(cm,cf,ck,ce){var cd;var cg;var ci;var ch,cl;var cj;if(cf!=null){cd=b1(cf);cg=false;for(ch=0;ch<cd.length;ch++){if(bJ(cd[ch],cm)){cg=true;break}}if(!cg){return false}}ci=b6.getPeerEvents(cm,ce);for(ch=0;ch<ci.length;ch++){cl=ci[ch];if(b8(cl,cm)){if(ck===false){return false}else{if(typeof ck==="function"&&!ck(cl,ce)){return false}}if(ce){cj=bv(cl.overlap,(cl.source||{}).overlap);if(cj===false){return false}if(typeof cj==="function"&&!cj(ce,cl)){return false}}}}return true}function b1(cd){if(cd==="businessHours"){return bQ()}if(typeof cd==="object"){return cc(bE(cd))}return bK(cd)}function bJ(cg,cf){var ce=cg.start.clone().stripZone();var cd=b6.getEventEnd(cg).stripZone();return cf.start>=ce&&cf.end<=cd}function b8(cg,cf){var ce=cg.start.clone().stripZone();var cd=b6.getEventEnd(cg).stripZone();return cf.start<cd&&cf.end>ce}b6.getEventCache=function(){return bN}}A.prototype.getPeerEvents=function(bD,bE){var bA=this.getEventCache();var bz=[];var bC,bB;for(bC=0;bC<bA.length;bC++){bB=bA[bC];if(!bE||bE._id!==bB._id){bz.push(bB)}}return bz};function aO(bz){bz._allDay=bz.allDay;bz._start=bz.start.clone();bz._end=bz.end?bz.end.clone():null}var N=L.BasicView=bq.extend({dayGridClass:bh,dayGrid:null,dayNumbersVisible:false,weekNumbersVisible:false,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid()},instantiateDayGrid:function(){var bz=this.dayGridClass.extend(ad);return new bz(this)},setRange:function(bz){bq.prototype.setRange.call(this,bz);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(bz)},computeRange:function(bA){var bz=bq.prototype.computeRange.call(this,bA);if(/year|month/.test(bz.intervalUnit)){bz.start.startOf("week");bz.start=this.skipHiddenDays(bz.start);if(bz.end.weekday()){bz.end.add(1,"week").startOf("week");bz.end=this.skipHiddenDays(bz.end,-1,true)}}return bz},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var bz=this.opt("eventLimit");return bz&&typeof bz!=="number"},updateWidth:function(){if(this.weekNumbersVisible){this.weekNumberWidth=V(this.el.find(".fc-week-number"))}},setHeight:function(bB,bz){var bA=this.opt("eventLimit");var bC;D(this.scrollerEl);aD(this.headRowEl);this.dayGrid.removeSegPopover();if(bA&&typeof bA==="number"){this.dayGrid.limitRows(bA)}bC=this.computeScrollerHeight(bB);this.setGridHeight(bC,bz);if(bA&&typeof bA!=="number"){this.dayGrid.limitRows(bA)}if(!bz&&bn(this.scrollerEl,bC)){bm(this.headRowEl,r(this.scrollerEl));bC=this.computeScrollerHeight(bB);this.scrollerEl.height(bC)}},setGridHeight:function(bA,bz){if(bz){e(this.dayGrid.rowEls)}else{U(this.dayGrid.rowEls,bA,true)}},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(bA,bz){return this.dayGrid.queryHit(bA,bz)},getHitSpan:function(bz){return this.dayGrid.getHitSpan(bz)},getHitEl:function(bz){return this.dayGrid.getHitEl(bz)},renderEvents:function(bz){this.dayGrid.renderEvents(bz);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(bA,bz){return this.dayGrid.renderDrag(bA,bz)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(bz){this.dayGrid.renderSelection(bz)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}});var ad={renderHeadIntroHtml:function(){var bz=this.view;if(bz.weekNumbersVisible){return'<th class="fc-week-number '+bz.widgetHeaderClass+'" '+bz.weekNumberStyleAttr()+"><span>"+bt(bz.opt("weekNumberTitle"))+"</span></th>"}return""},renderNumberIntroHtml:function(bA){var bz=this.view;if(bz.weekNumbersVisible){return'<td class="fc-week-number" '+bz.weekNumberStyleAttr()+"><span>"+this.getCellDate(bA,0).format("w")+"</span></td>"}return""},renderBgIntroHtml:function(){var bz=this.view;if(bz.weekNumbersVisible){return'<td class="fc-week-number '+bz.widgetContentClass+'" '+bz.weekNumberStyleAttr()+"></td>"}return""},renderIntroHtml:function(){var bz=this.view;if(bz.weekNumbersVisible){return'<td class="fc-week-number" '+bz.weekNumberStyleAttr()+"></td>"}return""}};var aR=L.MonthView=N.extend({computeRange:function(bA){var bz=N.prototype.computeRange.call(this,bA);var bB;if(this.isFixedWeeks()){bB=Math.ceil(bz.end.diff(bz.start,"weeks",true));bz.end.add(6-bB,"weeks")}return bz},setGridHeight:function(bA,bz){bz=bz||this.opt("weekMode")==="variable";if(bz){bA*=this.rowCnt/6}U(this.dayGrid.rowEls,bA,!bz)},isFixedWeeks:function(){var bz=this.opt("weekMode");if(bz){return bz==="fixed"}return this.opt("fixedWeekCount")}});aU.basic={"class":N};aU.basicDay={type:"basic",duration:{days:1}};aU.basicWeek={type:"basic",duration:{weeks:1}};aU.month={"class":aR,duration:{months:1},defaults:{fixedWeekCount:true}};var Z=L.AgendaView=bq.extend({timeGridClass:k,timeGrid:null,dayGridClass:bh,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid();if(this.opt("allDaySlot")){this.dayGrid=this.instantiateDayGrid()}},instantiateTimeGrid:function(){var bz=this.timeGridClass.extend(a6);return new bz(this)},instantiateDayGrid:function(){var bz=this.dayGridClass.extend(af);return new bz(this)},setRange:function(bz){bq.prototype.setRange.call(this,bz);this.timeGrid.setRange(bz);if(this.dayGrid){this.dayGrid.setRange(bz)}},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scrollerEl=this.el.find(".fc-time-grid-container");this.timeGrid.setElement(this.el.find(".fc-time-grid"));this.timeGrid.renderDates();this.bottomRuleEl=a8('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);if(this.dayGrid){this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates();this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();if(this.dayGrid){this.dayGrid.unrenderDates();this.dayGrid.removeElement()}},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();if(this.dayGrid){this.dayGrid.renderBusinessHours()}},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();if(this.dayGrid){this.dayGrid.unrenderBusinessHours()}},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(bz){this.timeGrid.renderNowIndicator(bz)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(bz){this.timeGrid.updateSize(bz);bq.prototype.updateSize.call(this,bz)},updateWidth:function(){this.axisWidth=V(this.el.find(".fc-axis"))},setHeight:function(bB,bz){var bA;var bC;if(this.bottomRuleHeight===null){this.bottomRuleHeight=this.bottomRuleEl.outerHeight()}this.bottomRuleEl.hide();this.scrollerEl.css("overflow","");D(this.scrollerEl);aD(this.noScrollRowEls);if(this.dayGrid){this.dayGrid.removeSegPopover();bA=this.opt("eventLimit");if(bA&&typeof bA!=="number"){bA=a}if(bA){this.dayGrid.limitRows(bA)}}if(!bz){bC=this.computeScrollerHeight(bB);if(bn(this.scrollerEl,bC)){bm(this.noScrollRowEls,r(this.scrollerEl));bC=this.computeScrollerHeight(bB);this.scrollerEl.height(bC)}else{this.scrollerEl.height(bC).css("overflow","hidden");this.bottomRuleEl.show()}}},computeInitialScroll:function(){var bA=O.duration(this.opt("scrollTime"));var bz=this.timeGrid.computeTimeTop(bA);bz=Math.ceil(bz);if(bz){bz++}return bz},prepareHits:function(){this.timeGrid.prepareHits();if(this.dayGrid){this.dayGrid.prepareHits()}},releaseHits:function(){this.timeGrid.releaseHits();if(this.dayGrid){this.dayGrid.releaseHits()}},queryHit:function(bB,bA){var bz=this.timeGrid.queryHit(bB,bA);if(!bz&&this.dayGrid){bz=this.dayGrid.queryHit(bB,bA)}return bz},getHitSpan:function(bz){return bz.component.getHitSpan(bz)},getHitEl:function(bz){return bz.component.getHitEl(bz)},renderEvents:function(bA){var bD=[];var bB=[];var bE=[];var bC;var bz;for(bz=0;bz<bA.length;bz++){if(bA[bz].allDay){bD.push(bA[bz])}else{bB.push(bA[bz])}}bC=this.timeGrid.renderEvents(bB);if(this.dayGrid){bE=this.dayGrid.renderEvents(bD)}this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();if(this.dayGrid){this.dayGrid.unrenderEvents()}},renderDrag:function(bA,bz){if(bA.start.hasTime()){return this.timeGrid.renderDrag(bA,bz)}else{if(this.dayGrid){return this.dayGrid.renderDrag(bA,bz)}}},unrenderDrag:function(){this.timeGrid.unrenderDrag();if(this.dayGrid){this.dayGrid.unrenderDrag()}},renderSelection:function(bz){if(bz.start.hasTime()||bz.end.hasTime()){this.timeGrid.renderSelection(bz)}else{if(this.dayGrid){this.dayGrid.renderSelection(bz)}}},unrenderSelection:function(){this.timeGrid.unrenderSelection();if(this.dayGrid){this.dayGrid.unrenderSelection()}}});var a6={renderHeadIntroHtml:function(){var bz=this.view;var bA;if(bz.opt("weekNumbers")){bA=this.start.format(bz.opt("smallWeekFormat"));return'<th class="fc-axis fc-week-number '+bz.widgetHeaderClass+'" '+bz.axisStyleAttr()+"><span>"+bt(bA)+"</span></th>"}else{return'<th class="fc-axis '+bz.widgetHeaderClass+'" '+bz.axisStyleAttr()+"></th>"}},renderBgIntroHtml:function(){var bz=this.view;return'<td class="fc-axis '+bz.widgetContentClass+'" '+bz.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var bz=this.view;return'<td class="fc-axis" '+bz.axisStyleAttr()+"></td>"}};var af={renderBgIntroHtml:function(){var bz=this.view;return'<td class="fc-axis '+bz.widgetContentClass+'" '+bz.axisStyleAttr()+"><span>"+(bz.opt("allDayHtml")||bt(bz.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var bz=this.view;return'<td class="fc-axis" '+bz.axisStyleAttr()+"></td>"}};var a=5;var bs=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];aU.agenda={"class":Z,defaults:{allDaySlot:true,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:true}};aU.agendaDay={type:"agenda",duration:{days:1}};aU.agendaWeek={type:"agenda",duration:{weeks:1}};return L});